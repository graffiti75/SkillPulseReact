(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Pd={exports:{}},vl={};var Y_;function FS(){if(Y_)return vl;Y_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return vl.Fragment=t,vl.jsx=n,vl.jsxs=n,vl}var X_;function GS(){return X_||(X_=1,Pd.exports=FS()),Pd.exports}var R=GS(),Ud={exports:{}},Tt={};var $_;function QS(){if($_)return Tt;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ht(V,X,it){this.props=V,this.context=X,this.refs=J,this.updater=it||Z}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function mt(V,X,it){this.props=V,this.context=X,this.refs=J,this.updater=it||Z}var qt=mt.prototype=new Et;qt.constructor=mt,W(qt,ht.prototype),qt.isPureReactComponent=!0;var Zt=Array.isArray;function rt(){}var w={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,X,it){var at=it.ref;return{$$typeof:s,type:V,key:X,ref:at!==void 0?at:null,props:it}}function x(V,X){return I(V.type,X,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return X[it]})}var C=/\/+/g;function se(V,X){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):X.toString(36)}function De(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(rt,rt):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,X,it,at,_t){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var kt=!1;if(V===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(V.$$typeof){case s:case t:kt=!0;break;case T:return kt=V._init,G(kt(V._payload),X,it,at,_t)}}if(kt)return _t=_t(V),kt=at===""?"."+se(V,0):at,Zt(_t)?(it="",kt!=null&&(it=kt.replace(C,"$&/")+"/"),G(_t,X,it,"",function(ar){return ar})):_t!=null&&(O(_t)&&(_t=x(_t,it+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(C,"$&/")+"/")+kt)),X.push(_t)),1;kt=0;var Ne=at===""?".":at+":";if(Zt(V))for(var re=0;re<V.length;re++)at=V[re],wt=Ne+se(at,re),kt+=G(at,X,it,wt,_t);else if(re=q(V),typeof re=="function")for(V=re.call(V),re=0;!(at=V.next()).done;)at=at.value,wt=Ne+se(at,re++),kt+=G(at,X,it,wt,_t);else if(wt==="object"){if(typeof V.then=="function")return G(De(V),X,it,at,_t);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function nt(V,X,it){if(V==null)return V;var at=[],_t=0;return G(V,at,"","",function(wt){return X.call(it,wt,_t++)}),at}function ft(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Pt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ft={map:nt,forEach:function(V,X,it){nt(V,function(){X.apply(this,arguments)},it)},count:function(V){var X=0;return nt(V,function(){X++}),X},toArray:function(V){return nt(V,function(X){return X})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=Ft,Tt.Component=ht,Tt.Fragment=n,Tt.Profiler=l,Tt.PureComponent=mt,Tt.StrictMode=r,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return w.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,X,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=W({},V.props),_t=V.key;if(X!=null)for(wt in X.key!==void 0&&(_t=""+X.key),X)!b.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(at[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)at.children=it;else if(1<wt){for(var kt=Array(wt),Ne=0;Ne<wt;Ne++)kt[Ne]=arguments[Ne+2];at.children=kt}return I(V.type,_t,at)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Tt.createElement=function(V,X,it){var at,_t={},wt=null;if(X!=null)for(at in X.key!==void 0&&(wt=""+X.key),X)b.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=X[at]);var kt=arguments.length-2;if(kt===1)_t.children=it;else if(1<kt){for(var Ne=Array(kt),re=0;re<kt;re++)Ne[re]=arguments[re+2];_t.children=Ne}if(V&&V.defaultProps)for(at in kt=V.defaultProps,kt)_t[at]===void 0&&(_t[at]=kt[at]);return I(V,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:g,render:V}},Tt.isValidElement=O,Tt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ft}},Tt.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},Tt.startTransition=function(V){var X=w.T,it={};w.T=it;try{var at=V(),_t=w.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(rt,Pt)}catch(wt){Pt(wt)}finally{X!==null&&it.types!==null&&(X.types=it.types),w.T=X}},Tt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Tt.use=function(V){return w.H.use(V)},Tt.useActionState=function(V,X,it){return w.H.useActionState(V,X,it)},Tt.useCallback=function(V,X){return w.H.useCallback(V,X)},Tt.useContext=function(V){return w.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,X){return w.H.useDeferredValue(V,X)},Tt.useEffect=function(V,X){return w.H.useEffect(V,X)},Tt.useEffectEvent=function(V){return w.H.useEffectEvent(V)},Tt.useId=function(){return w.H.useId()},Tt.useImperativeHandle=function(V,X,it){return w.H.useImperativeHandle(V,X,it)},Tt.useInsertionEffect=function(V,X){return w.H.useInsertionEffect(V,X)},Tt.useLayoutEffect=function(V,X){return w.H.useLayoutEffect(V,X)},Tt.useMemo=function(V,X){return w.H.useMemo(V,X)},Tt.useOptimistic=function(V,X){return w.H.useOptimistic(V,X)},Tt.useReducer=function(V,X,it){return w.H.useReducer(V,X,it)},Tt.useRef=function(V){return w.H.useRef(V)},Tt.useState=function(V){return w.H.useState(V)},Tt.useSyncExternalStore=function(V,X,it){return w.H.useSyncExternalStore(V,X,it)},Tt.useTransition=function(){return w.H.useTransition()},Tt.version="19.2.3",Tt}var J_;function Dm(){return J_||(J_=1,Ud.exports=QS()),Ud.exports}var gt=Dm(),zd={exports:{}},El={},jd={exports:{}},Bd={};var Z_;function KS(){return Z_||(Z_=1,(function(s){function t(G,nt){var ft=G.length;G.push(nt);t:for(;0<ft;){var Pt=ft-1>>>1,Ft=G[Pt];if(0<l(Ft,nt))G[Pt]=nt,G[ft]=Ft,ft=Pt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],ft=G.pop();if(ft!==nt){G[0]=ft;t:for(var Pt=0,Ft=G.length,V=Ft>>>1;Pt<V;){var X=2*(Pt+1)-1,it=G[X],at=X+1,_t=G[at];if(0>l(it,ft))at<Ft&&0>l(_t,it)?(G[Pt]=_t,G[at]=ft,Pt=at):(G[Pt]=it,G[X]=ft,Pt=X);else if(at<Ft&&0>l(_t,ft))G[Pt]=_t,G[at]=ft,Pt=at;else break t}}return nt}function l(G,nt){var ft=G.sortIndex-nt.sortIndex;return ft!==0?ft:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,S=null,N=3,q=!1,Z=!1,W=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function qt(G){for(var nt=n(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=G)r(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(_)}}function Zt(G){if(W=!1,qt(G),!Z)if(n(p)!==null)Z=!0,rt||(rt=!0,L());else{var nt=n(_);nt!==null&&De(Zt,nt.startTime-G)}}var rt=!1,w=-1,b=5,I=-1;function x(){return J?!0:!(s.unstable_now()-I<b)}function O(){if(J=!1,rt){var G=s.unstable_now();I=G;var nt=!0;try{t:{Z=!1,W&&(W=!1,Et(w),w=-1),q=!0;var ft=N;try{e:{for(qt(G),S=n(p);S!==null&&!(S.expirationTime>G&&x());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,N=S.priorityLevel;var Ft=Pt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Ft=="function"){S.callback=Ft,qt(G),nt=!0;break e}S===n(p)&&r(p),qt(G)}else r(p);S=n(p)}if(S!==null)nt=!0;else{var V=n(_);V!==null&&De(Zt,V.startTime-G),nt=!1}}break t}finally{S=null,N=ft,q=!1}nt=void 0}}finally{nt?L():rt=!1}}}var L;if(typeof mt=="function")L=function(){mt(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,se=C.port2;C.port1.onmessage=O,L=function(){se.postMessage(null)}}else L=function(){ht(O,0)};function De(G,nt){w=ht(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ft=N;N=nt;try{return G()}finally{N=ft}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=N;N=G;try{return nt()}finally{N=ft}},s.unstable_scheduleCallback=function(G,nt,ft){var Pt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ft+Ft,G={id:T++,callback:nt,priorityLevel:G,startTime:ft,expirationTime:Ft,sortIndex:-1},ft>Pt?(G.sortIndex=ft,t(_,G),n(p)===null&&G===n(_)&&(W?(Et(w),w=-1):W=!0,De(Zt,ft-Pt))):(G.sortIndex=Ft,t(p,G),Z||q||(Z=!0,rt||(rt=!0,L()))),G},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(G){var nt=N;return function(){var ft=N;N=nt;try{return G.apply(this,arguments)}finally{N=ft}}}})(Bd)),Bd}var W_;function YS(){return W_||(W_=1,jd.exports=KS()),jd.exports}var qd={exports:{}},Xe={};var tv;function XS(){if(tv)return Xe;tv=1;var s=Dm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(p,_,null,T)},Xe.flushSync=function(p){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=T,r.d.f()}},Xe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Xe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:q}):T==="script"&&r.d.X(p,{crossOrigin:S,integrity:N,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Xe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Xe.requestFormReset=function(p){r.d.r(p)},Xe.unstable_batchedUpdates=function(p,_){return p(_)},Xe.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var ev;function $S(){if(ev)return qd.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),qd.exports=XS(),qd.exports}var nv;function JS(){if(nv)return El;nv=1;var s=YS(),t=Dm(),n=$S();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),e;if(f===o)return p(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case Zt:return"Suspense";case rt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case qt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return i=e.displayName||null,i!==null?i:se(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return se(e(i))}catch{}}return null}var De=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function V(e){return{current:e}}function X(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function it(e,i){Ft++,Pt[Ft]=e.current,e.current=i}var at=V(null),_t=V(null),wt=V(null),kt=V(null);function Ne(e,i){switch(it(wt,i),it(_t,e),it(at,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=y_(i),e=__(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function re(){X(at),X(_t),X(wt)}function ar(e){e.memoizedState!==null&&it(kt,e);var i=at.current,a=__(i,e.type);i!==a&&(it(_t,e),it(at,a))}function Xr(e){_t.current===e&&(X(at),X(_t)),kt.current===e&&(X(kt),gl._currentValue=ft)}var $r,Jr;function ti(e){if($r===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$r=i&&i[1]||"",Jr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+Jr}var go=!1;function or(e,i){if(!e||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var D=y.split(`
`),z=E.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===z.length)for(o=D.length-1,h=z.length-1;1<=o&&0<=h&&D[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==z[h]){var F=`
`+D[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function po(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return or(e.type,!1);case 11:return or(e.type.render,!1);case 1:return or(e.type,!0);case 31:return ti("Activity");default:return""}}function yo(e){try{var i="",a=null;do i+=po(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,ss=s.unstable_cancelCallback,Uh=s.unstable_shouldYield,tu=s.unstable_requestPaint,tn=s.unstable_now,lr=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,rs=s.unstable_NormalPriority,zh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,Un=null,je=null;function Sn(e){if(typeof nu=="function"&&iu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Un,e)}catch{}}var he=Math.clz32?Math.clz32:ru,su=Math.log,Zr=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/Zr|0)|0}var ei=256,ur=262144,ye=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(y&=E,y!==0?h=ni(y):a||(a=E&~e,a!==0&&(h=ni(a))))):(E=o&~f,E!==0?h=ni(E):y!==0?h=ni(y):a||(a=o&~e,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function zn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function jh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function si(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function cr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bh(e,i,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-he(a),Y=1<<F;E[F]=0,D[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}a&=~Y}o!==0&&hr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function hr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-he(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Eo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function To(e,i){var a=i&-i;return a=(a&42)!==0?1:fr(a),(a&(e.suspendedLanes|i))!==0?0:a}function fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function jn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Le="__reactProps$"+Bn,ri="__reactContainer$"+Bn,Wr="__reactEvents$"+Bn,qh="__reactListeners$"+Bn,lu="__reactHandles$"+Bn,uu="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function ta(e){delete e[_e],delete e[Le],delete e[Wr],delete e[qh],delete e[lu]}function oi(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ri]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[_e])return a;e=w_(e)}return i}e=a,a=e.parentNode}return null}function bn(e){if(e=e[_e]||e[ri]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function li(e){var i=e[uu];return i||(i=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ve(e){e[ai]=!0}var Ao=new Set,So={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(So[e]=i,e=0;e<i.length;e++)Ao.add(i[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function cu(e){return pe.call(Ro,e)?!0:pe.call(wo,e)?!1:bo.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ea(e,i,a){if(cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ee(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Io(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gt(e){if(!e._valueTracker){var i=as(e)?"checked":"value";e._valueTracker=Io(e,i,""+e[i])}}function dr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function sn(e){return e.replace(mr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function na(e,i,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Co(e,y,Pe(i)):a!=null?Co(e,y,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function hu(e,i,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Gt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Gt(e)}function Co(e,i,a){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function os(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function fu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function ls(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(De(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||du.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function No(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Do(e,f,i[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Oo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,fi=null;function gr(e){var i=bn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(na(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(r(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&dr(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&os(e,!!a.multiple,i,!1)}}}var ra=!1;function hs(e,i,a){if(ra)return e(i,a);ra=!0;try{var o=e(i);return o}finally{if(ra=!1,(cs!==null||fi!==null)&&(oc(),cs&&(i=cs,e=fi,fi=cs=null,gr(i),e)))for(i=0;i<e.length;i++)gr(e[i])}}function Hn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Rn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{pr=!1}var di=null,Mo=null,yr=null;function Vo(){if(yr)return yr;var e,i=Mo,a=i.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[f-o];o++);return yr=h.slice(e,1<o?1-o:void 0)}function _r(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Fn(){return!1}function Be(e){function i(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Fn,this.isPropagationStopped=Fn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Mi),fs=S({},Mi,{view:0,detail:0}),xo=Be(fs),ds,aa,gi,oa=S({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ds=e.screenX-gi.screenX,aa=e.screenY-gi.screenY):aa=ds=0,gi=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),ko=Be(oa),vr=S({},oa,{dataTransfer:0}),gu=Be(vr),pu=S({},fs,{relatedTarget:0}),Er=Be(pu),Lo=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Be(Lo),la=S({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Be(la),vu=S({},Mi,{data:0}),pi=Be(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Au[e])?!!i[e]:!1}function ms(){return Su}var en=S({},fs,{key:function(e){if(e.key){var i=Eu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Be(en),wu=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Be(wu),c=S({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=Be(c),v=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),P=S({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(P),tt=S({},Mi,{newState:0,oldState:0}),St=Be(tt),fe=[9,13,27,32],jt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var In=Rn&&"TextEvent"in window&&!ae,yi=Rn&&(!jt||ae&&8<ae&&11>=ae),Gn=" ",Qn=!1;function Tr(e,i){switch(e){case"keyup":return fe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function mA(e,i){switch(e){case"compositionend":return ua(i);case"keypress":return i.which!==32?null:(Qn=!0,Gn);case"textInput":return e=i.data,e===Gn&&Qn?null:e;default:return null}}function gA(e,i){if(ca)return e==="compositionend"||!jt&&Tr(e,i)?(e=Vo(),yr=Mo=di=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!pA[e.type]:i==="textarea"}function Dg(e,i,a,o){cs?fi?fi.push(o):fi=[o]:cs=o,i=mc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Po=null,Uo=null;function yA(e){h_(e,0)}function Ru(e){var i=dn(e);if(dr(i))return e}function Ng(e,i){if(e==="change")return i}var Og=!1;if(Rn){var Hh;if(Rn){var Fh="oninput"in document;if(!Fh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Fh=typeof Mg.oninput=="function"}Hh=Fh}else Hh=!1;Og=Hh&&(!document.documentMode||9<document.documentMode)}function Vg(){Po&&(Po.detachEvent("onpropertychange",xg),Uo=Po=null)}function xg(e){if(e.propertyName==="value"&&Ru(Uo)){var i=[];Dg(i,Uo,e,wn(e)),hs(yA,i)}}function _A(e,i,a){e==="focusin"?(Vg(),Po=i,Uo=a,Po.attachEvent("onpropertychange",xg)):e==="focusout"&&Vg()}function vA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Uo)}function EA(e,i){if(e==="click")return Ru(i)}function TA(e,i){if(e==="input"||e==="change")return Ru(i)}function AA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:AA;function zo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pe.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lg(e,i){var a=kg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Pg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Pg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hi(e.document)}return i}function Gh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var SA=Rn&&"documentMode"in document&&11>=document.documentMode,ha=null,Qh=null,jo=null,Kh=!1;function zg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||ha==null||ha!==hi(o)||(o=ha,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=mc(Qh,"onSelect"),0<o.length&&(i=new mi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ha)))}function Ar(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Yh={},jg={};Rn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Sr(e){if(Yh[e])return Yh[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return Yh[e]=i[a];return e}var Bg=Sr("animationend"),qg=Sr("animationiteration"),Hg=Sr("animationstart"),bA=Sr("transitionrun"),wA=Sr("transitionstart"),RA=Sr("transitioncancel"),Fg=Sr("transitionend"),Gg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Kn(e,i){Gg.set(e,i),ui(i,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],da=0,$h=0;function Cu(){for(var e=da,i=$h=da=0;i<e;){var a=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var f=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Qg(a,h,f)}}function Du(e,i,a,o){Cn[da++]=e,Cn[da++]=i,Cn[da++]=a,Cn[da++]=o,$h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Jh(e,i,a,o){return Du(e,i,a,o),Nu(e)}function br(e,i){return Du(e,null,null,i),Nu(e)}function Qg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Nu(e){if(50<ll)throw ll=0,od=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ma={};function IA(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,a,o){return new IA(e,i,a,o)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,i){var a=e.alternate;return a===null?(a=pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ou(e,i,a,o,h,f){var y=0;if(o=e,typeof e=="function")Zh(e)&&(y=1);else if(typeof e=="string")y=MS(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,a,i,h),e.elementType=I,e.lanes=f,e;case W:return wr(a.children,h,f,i);case J:y=8,h|=24;break;case ht:return e=pn(12,a,i,h|2),e.elementType=ht,e.lanes=f,e;case Zt:return e=pn(13,a,i,h),e.elementType=Zt,e.lanes=f,e;case rt:return e=pn(19,a,i,h),e.elementType=rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:y=10;break t;case Et:y=9;break t;case qt:y=11;break t;case w:y=14;break t;case b:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=pn(y,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function wr(e,i,a,o){return e=pn(7,e,o,i),e.lanes=a,e}function Wh(e,i,a){return e=pn(6,e,null,i),e.lanes=a,e}function Yg(e){var i=pn(18,null,null,0);return i.stateNode=e,i}function tf(e,i,a){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Xg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=Xg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:yo(i)},Xg.set(e,i),i)}return{value:e,source:i,stack:yo(i)}}var ga=[],pa=0,Mu=null,Bo=0,Nn=[],On=0,gs=null,_i=1,vi="";function ki(e,i){ga[pa++]=Bo,ga[pa++]=Mu,Mu=e,Bo=i}function $g(e,i,a){Nn[On++]=_i,Nn[On++]=vi,Nn[On++]=gs,gs=e;var o=_i;e=vi;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,_i=1<<32-he(i)+h|a<<h|o,vi=f+e}else _i=1<<f|a<<h|o,vi=e}function ef(e){e.return!==null&&(ki(e,1),$g(e,1,0))}function nf(e){for(;e===Mu;)Mu=ga[--pa],ga[pa]=null,Bo=ga[--pa],ga[pa]=null;for(;e===gs;)gs=Nn[--On],Nn[On]=null,vi=Nn[--On],Nn[On]=null,_i=Nn[--On],Nn[On]=null}function Jg(e,i){Nn[On++]=_i,Nn[On++]=vi,Nn[On++]=gs,_i=i.id,vi=i.overflow,gs=e}var qe=null,ee=null,xt=!1,ps=null,Mn=!1,sf=Error(r(519));function ys(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Dn(i,e)),sf}function Zg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[_e]=e,i[Le]=o,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)Ct(cl[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),hu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),ls(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||g_(i.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),o.onScroll!=null&&Ct("scroll",i),o.onScrollEnd!=null&&Ct("scrollend",i),o.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||ys(e,!0)}function Wg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function ya(e){if(e!==qe)return!1;if(!xt)return Wg(e),xt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&ee&&ys(e),Wg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=b_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=b_(e)}else i===27?(i=ee,Os(e.type)?(e=Id,Id=null,ee=e):ee=i):ee=qe?xn(e.stateNode.nextSibling):null;return!0}function Rr(){ee=qe=null,xt=!1}function rf(){var e=ps;return e!==null&&(un===null?un=e:un.push.apply(un,e),ps=null),e}function qo(e){ps===null?ps=[e]:ps.push(e)}var af=V(null),Ir=null,Li=null;function _s(e,i,a){it(af,i._currentValue),i._currentValue=a}function Pi(e){e._currentValue=af.current,X(af)}function of(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function lf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var D=0;D<i.length;D++)if(E.context===i[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),of(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function _a(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;gn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&lf(i,e,a,o),i.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){Ir=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return tp(Ir,e)}function xu(e,i){return Ir===null&&Cr(e),tp(e,i)}function tp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(r(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return a}var CA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},DA=s.unstable_scheduleCallback,NA=s.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new CA,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&DA(NA,function(){e.controller.abort()})}var Fo=null,cf=0,va=0,Ea=null;function OA(e,i){if(Fo===null){var a=Fo=[];cf=0,va=dd(),Ea={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,i.then(ep,ep),i}function ep(){if(--cf===0&&Fo!==null){Ea!==null&&(Ea.status="fulfilled");var e=Fo;Fo=null,va=0,Ea=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function MA(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var np=G.S;G.S=function(e,i){zy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OA(e,i),np!==null&&np(e,i)};var Dr=V(null);function hf(){var e=Dr.current;return e!==null?e:Wt.pooledCache}function ku(e,i){i===null?it(Dr,Dr.current):it(Dr,i.pool)}function ip(){var e=hf();return e===null?null:{parent:Te._currentValue,pool:e}}var Ta=Error(r(460)),ff=Error(r(474)),Lu=Error(r(542)),Pu={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,op(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,op(e),e}throw Or=i,Ta}}function Nr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Or=a,Ta):a}}var Or=null;function ap(){if(Or===null)throw Error(r(459));var e=Or;return Or=null,e}function op(e){if(e===Ta||e===Lu)throw Error(r(483))}var Aa=null,Go=0;function Uu(e){var i=Go;return Go+=1,Aa===null&&(Aa=[]),rp(Aa,e,i)}function Qo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function zu(e,i){throw i.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function lp(e){function i(k,M){if(e){var U=k.deletions;U===null?(k.deletions=[M],k.flags|=16):U.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=xi(k,M),k.index=0,k.sibling=null,k}function f(k,M,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<M?(k.flags|=67108866,M):U):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,U,K){return M===null||M.tag!==6?(M=Wh(U,k.mode,K),M.return=k,M):(M=h(M,U),M.return=k,M)}function D(k,M,U,K){var ct=U.type;return ct===W?F(k,M,U.props.children,K,U.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Nr(ct)===M.type)?(M=h(M,U.props),Qo(M,U),M.return=k,M):(M=Ou(U.type,U.key,U.props,null,k.mode,K),Qo(M,U),M.return=k,M)}function z(k,M,U,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=tf(U,k.mode,K),M.return=k,M):(M=h(M,U.children||[]),M.return=k,M)}function F(k,M,U,K,ct){return M===null||M.tag!==7?(M=wr(U,k.mode,K,ct),M.return=k,M):(M=h(M,U),M.return=k,M)}function Y(k,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Wh(""+M,k.mode,U),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return U=Ou(M.type,M.key,M.props,null,k.mode,U),Qo(U,M),U.return=k,U;case Z:return M=tf(M,k.mode,U),M.return=k,M;case b:return M=Nr(M),Y(k,M,U)}if(De(M)||L(M))return M=wr(M,k.mode,U,null),M.return=k,M;if(typeof M.then=="function")return Y(k,Uu(M),U);if(M.$$typeof===mt)return Y(k,xu(k,M),U);zu(k,M)}return null}function j(k,M,U,K){var ct=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ct!==null?null:E(k,M,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===ct?D(k,M,U,K):null;case Z:return U.key===ct?z(k,M,U,K):null;case b:return U=Nr(U),j(k,M,U,K)}if(De(U)||L(U))return ct!==null?null:F(k,M,U,K,null);if(typeof U.then=="function")return j(k,M,Uu(U),K);if(U.$$typeof===mt)return j(k,M,xu(k,U),K);zu(k,U)}return null}function H(k,M,U,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,E(M,k,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return k=k.get(K.key===null?U:K.key)||null,D(M,k,K,ct);case Z:return k=k.get(K.key===null?U:K.key)||null,z(M,k,K,ct);case b:return K=Nr(K),H(k,M,U,K,ct)}if(De(K)||L(K))return k=k.get(U)||null,F(M,k,K,ct,null);if(typeof K.then=="function")return H(k,M,U,Uu(K),ct);if(K.$$typeof===mt)return H(k,M,U,xu(M,K),ct);zu(M,K)}return null}function ot(k,M,U,K){for(var ct=null,Ut=null,lt=M,Rt=M=0,Nt=null;lt!==null&&Rt<U.length;Rt++){lt.index>Rt?(Nt=lt,lt=null):Nt=lt.sibling;var zt=j(k,lt,U[Rt],K);if(zt===null){lt===null&&(lt=Nt);break}e&&lt&&zt.alternate===null&&i(k,lt),M=f(zt,M,Rt),Ut===null?ct=zt:Ut.sibling=zt,Ut=zt,lt=Nt}if(Rt===U.length)return a(k,lt),xt&&ki(k,Rt),ct;if(lt===null){for(;Rt<U.length;Rt++)lt=Y(k,U[Rt],K),lt!==null&&(M=f(lt,M,Rt),Ut===null?ct=lt:Ut.sibling=lt,Ut=lt);return xt&&ki(k,Rt),ct}for(lt=o(lt);Rt<U.length;Rt++)Nt=H(lt,k,Rt,U[Rt],K),Nt!==null&&(e&&Nt.alternate!==null&&lt.delete(Nt.key===null?Rt:Nt.key),M=f(Nt,M,Rt),Ut===null?ct=Nt:Ut.sibling=Nt,Ut=Nt);return e&&lt.forEach(function(Ls){return i(k,Ls)}),xt&&ki(k,Rt),ct}function dt(k,M,U,K){if(U==null)throw Error(r(151));for(var ct=null,Ut=null,lt=M,Rt=M=0,Nt=null,zt=U.next();lt!==null&&!zt.done;Rt++,zt=U.next()){lt.index>Rt?(Nt=lt,lt=null):Nt=lt.sibling;var Ls=j(k,lt,zt.value,K);if(Ls===null){lt===null&&(lt=Nt);break}e&&lt&&Ls.alternate===null&&i(k,lt),M=f(Ls,M,Rt),Ut===null?ct=Ls:Ut.sibling=Ls,Ut=Ls,lt=Nt}if(zt.done)return a(k,lt),xt&&ki(k,Rt),ct;if(lt===null){for(;!zt.done;Rt++,zt=U.next())zt=Y(k,zt.value,K),zt!==null&&(M=f(zt,M,Rt),Ut===null?ct=zt:Ut.sibling=zt,Ut=zt);return xt&&ki(k,Rt),ct}for(lt=o(lt);!zt.done;Rt++,zt=U.next())zt=H(lt,k,Rt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&lt.delete(zt.key===null?Rt:zt.key),M=f(zt,M,Rt),Ut===null?ct=zt:Ut.sibling=zt,Ut=zt);return e&&lt.forEach(function(HS){return i(k,HS)}),xt&&ki(k,Rt),ct}function Jt(k,M,U,K){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:t:{for(var ct=U.key;M!==null;){if(M.key===ct){if(ct=U.type,ct===W){if(M.tag===7){a(k,M.sibling),K=h(M,U.props.children),K.return=k,k=K;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Nr(ct)===M.type){a(k,M.sibling),K=h(M,U.props),Qo(K,U),K.return=k,k=K;break t}a(k,M);break}else i(k,M);M=M.sibling}U.type===W?(K=wr(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Ou(U.type,U.key,U.props,null,k.mode,K),Qo(K,U),K.return=k,k=K)}return y(k);case Z:t:{for(ct=U.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(k,M.sibling),K=h(M,U.children||[]),K.return=k,k=K;break t}else{a(k,M);break}else i(k,M);M=M.sibling}K=tf(U,k.mode,K),K.return=k,k=K}return y(k);case b:return U=Nr(U),Jt(k,M,U,K)}if(De(U))return ot(k,M,U,K);if(L(U)){if(ct=L(U),typeof ct!="function")throw Error(r(150));return U=ct.call(U),dt(k,M,U,K)}if(typeof U.then=="function")return Jt(k,M,Uu(U),K);if(U.$$typeof===mt)return Jt(k,M,xu(k,U),K);zu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(k,M.sibling),K=h(M,U),K.return=k,k=K):(a(k,M),K=Wh(U,k.mode,K),K.return=k,k=K),y(k)):a(k,M)}return function(k,M,U,K){try{Go=0;var ct=Jt(k,M,U,K);return Aa=null,ct}catch(lt){if(lt===Ta||lt===Lu)throw lt;var Ut=pn(29,lt,null,k.mode);return Ut.lanes=K,Ut.return=k,Ut}}}var Mr=lp(!0),up=lp(!1),vs=!1;function df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Nu(e),Qg(e,null,a),i}return Du(e,o,i,a),Nu(e)}function Ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Eo(e,a)}}function gf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var pf=!1;function Yo(){if(pf){var e=Ea;if(e!==null)throw e}}function Xo(e,i,a,o){pf=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,z=D.next;D.next=null,y===null?f=z:y.next=z,y=D;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=D))}if(f!==null){var Y=h.baseState;y=0,F=z=D=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Dt&j)===j:(o&j)===j){j!==0&&j===va&&(pf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,dt=E;j=i;var Jt=a;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){Y=ot.call(Jt,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,j=typeof ot=="function"?ot.call(Jt,Y,j):ot,j==null)break t;Y=S({},Y,j);break t;case 2:vs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,D=Y):F=F.next=H,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(D=Y),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Rs|=y,e.lanes=y,e.memoizedState=Y}}function cp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function hp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cp(a[e],i)}var Sa=V(null),ju=V(0);function fp(e,i){e=Qi,it(ju,e),it(Sa,i),Qi=e|i.baseLanes}function yf(){it(ju,Qi),it(Sa,Sa.current)}function _f(){Qi=ju.current,X(Sa),X(ju)}var yn=V(null),Vn=null;function As(e){var i=e.alternate;it(de,de.current&1),it(yn,e),Vn===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(Vn=e)}function vf(e){it(de,de.current),it(yn,e),Vn===null&&(Vn=e)}function dp(e){e.tag===22?(it(de,de.current),it(yn,e),Vn===null&&(Vn=e)):Ss()}function Ss(){it(de,de.current),it(yn,yn.current)}function _n(e){X(yn),Vn===e&&(Vn=null),X(de)}var de=V(0);function Bu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ui=0,bt=null,Xt=null,Ae=null,qu=!1,ba=!1,Vr=!1,Hu=0,$o=0,wa=null,VA=0;function ue(){throw Error(r(321))}function Ef(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function Tf(e,i,a,o,h,f){return Ui=f,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?$p:Lf,Vr=!1,f=a(o,h),Vr=!1,ba&&(f=gp(i,a,o,h)),mp(e),f}function mp(e){G.H=Wo;var i=Xt!==null&&Xt.next!==null;if(Ui=0,Ae=Xt=bt=null,qu=!1,$o=0,wa=null,i)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&Vu(e)&&(Se=!0))}function gp(e,i,a,o){bt=e;var h=0;do{if(ba&&(wa=null),$o=0,ba=!1,25<=h)throw Error(r(301));if(h+=1,Ae=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Jp,f=i(a,o)}while(ba);return f}function xA(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Jo(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Af(){var e=Hu!==0;return Hu=0,e}function Sf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function bf(e){if(qu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}qu=!1}Ui=0,Ae=Xt=bt=null,ba=!1,$o=Hu=0,wa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Xt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Ae===null?bt.memoizedState:Ae.next;if(i!==null)Ae=i,Xt=e;else{if(e===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var i=$o;return $o+=1,wa===null&&(wa=[]),e=rp(wa,e,i),i=bt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?$p:Lf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===mt)return He(e)}throw Error(r(438,String(e)))}function wf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Fu(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function zi(e,i){return typeof i=="function"?i(e):i}function Qu(e){var i=me();return Rf(i,Xt,e)}function Rf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=y=null,D=null,z=i,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Dt&Y)===Y:(Ui&Y)===Y){var j=z.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===va&&(F=!0);else if((Ui&j)===j){z=z.next,j===va&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(E=D=Y,y=f):D=D.next=Y,bt.lanes|=j,Rs|=j;Y=z.action,Vr&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(E=D=j,y=f):D=D.next=j,bt.lanes|=Y,Rs|=Y;z=z.next}while(z!==null&&z!==i);if(D===null?y=f:D.next=E,!gn(f,e.memoizedState)&&(Se=!0,F&&(a=Ea,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function If(e){var i=me(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);gn(f,i.memoizedState)||(Se=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function pp(e,i,a){var o=bt,h=me(),f=xt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!gn((Xt||h).memoizedState,a);if(y&&(h.memoizedState=a,Se=!0),h=h.queue,Nf(vp.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},_p.bind(null,o,h,a,i),null),Wt===null)throw Error(r(349));f||(Ui&127)!==0||yp(o,i,a)}return a}function yp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=Fu(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function _p(e,i,a,o){i.value=a,i.getSnapshot=o,Ep(i)&&Tp(e)}function vp(e,i,a){return a(function(){Ep(i)&&Tp(e)})}function Ep(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function Tp(e){var i=br(e,2);i!==null&&cn(i,e,2)}function Cf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Vr){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},i}function Ap(e,i,a,o){return e.baseState=a,Rf(e,Xt,typeof o=="function"?o:zi)}function kA(e,i,a,o,h){if(Xu(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Sp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Sp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=G.T,y={};G.T=y;try{var E=a(h,o),D=G.S;D!==null&&D(y,E),bp(e,i,E)}catch(z){Df(e,i,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,o),bp(e,i,f)}catch(z){Df(e,i,z)}}function bp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wp(e,i,o)},function(o){return Df(e,i,o)}):wp(e,i,a)}function wp(e,i,a){i.status="fulfilled",i.value=a,Rp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Sp(e,a)))}function Df(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Rp(i),i=i.next;while(i!==o)}e.action=null}function Rp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ip(e,i){return i}function Cp(e,i){if(xt){var a=Wt.formState;if(a!==null){t:{var o=bt;if(xt){if(ee){e:{for(var h=ee,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=xn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:i},a.queue=o,a=Kp.bind(null,bt,o),o.dispatch=a,o=Cf(!1),f=kf.bind(null,bt,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=kA.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Dp(e){var i=me();return Np(i,Xt,e)}function Np(e,i,a){if(i=Rf(e,i,Ip)[0],e=Qu(zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Jo(i)}catch(y){throw y===Ta?Lu:y}else o=i;i=me();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,Ra(9,{destroy:void 0},LA.bind(null,h,a),null)),[o,f,e]}function LA(e,i){e.action=i}function Op(e){var i=me(),a=Xt;if(a!==null)return Np(i,a,e);me(),i=i.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ra(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=Fu(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Mp(){return me().memoizedState}function Ku(e,i,a,o){var h=nn();bt.flags|=e,h.memoizedState=Ra(1|i,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,i,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&Ef(o,Xt.memoizedState.deps)?h.memoizedState=Ra(i,f,a,o):(bt.flags|=e,h.memoizedState=Ra(1|i,f,a,o))}function Vp(e,i){Ku(8390656,8,e,i)}function Nf(e,i){Yu(2048,8,e,i)}function PA(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=Fu(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function xp(e){var i=me().memoizedState;return PA({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function kp(e,i){return Yu(4,2,e,i)}function Lp(e,i){return Yu(4,4,e,i)}function Pp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Up(e,i,a){a=a!=null?a.concat([e]):null,Yu(4,4,Pp.bind(null,i,e),a)}function Of(){}function zp(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Ef(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function jp(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Ef(i,o[1]))return o[0];if(o=e(),Vr){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,i],o}function Mf(e,i,a){return a===void 0||(Ui&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=By(),bt.lanes|=e,Rs|=e,a)}function Bp(e,i,a,o){return gn(a,i)?a:Sa.current!==null?(e=Mf(e,a,o),gn(e,i)||(Se=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Dt&261930)===0?(Se=!0,e.memoizedState=a):(e=By(),bt.lanes|=e,Rs|=e,i)}function qp(e,i,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,kf(e,!1,i,a);try{var D=h(),z=G.S;if(z!==null&&z(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var F=MA(D,o);Zo(e,i,F,Tn(e))}else Zo(e,i,o,Tn(e))}catch(Y){Zo(e,i,{then:function(){},status:"rejected",reason:Y},Tn())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function UA(){}function Vf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=Hp(e).queue;qp(e,h,i,ft,a===null?UA:function(){return Fp(e),a(o)})}function Hp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Fp(e){var i=Hp(e);i.next===null&&(i=e.alternate.memoizedState),Zo(e,i.next.queue,{},Tn())}function xf(){return He(gl)}function Gp(){return me().memoizedState}function Qp(){return me().memoizedState}function zA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Es(a);var o=Ts(i,e,a);o!==null&&(cn(o,i,a),Ko(o,i,a)),i={cache:uf()},e.payload=i;return}i=i.return}}function jA(e,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Yp(i,a):(a=Jh(e,i,a,o),a!==null&&(cn(a,e,o),Xp(a,i,o)))}function Kp(e,i,a){var o=Tn();Zo(e,i,a,o)}function Zo(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Yp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,y))return Du(e,i,h,0),Wt===null&&Cu(),!1}catch{}if(a=Jh(e,i,h,o),a!==null)return cn(a,e,o),Xp(a,i,o),!0}return!1}function kf(e,i,a,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(i)throw Error(r(479))}else i=Jh(e,a,o,2),i!==null&&cn(i,e,2)}function Xu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Yp(e,i){ba=qu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Xp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Eo(e,a)}}var Wo={readContext:He,use:Gu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Wo.useEffectEvent=ue;var $p={readContext:He,use:Gu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Vp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Pp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ku(4194308,4,e,i)},useInsertionEffect:function(e,i){Ku(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var o=e();if(Vr){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=nn();if(a!==void 0){var h=a(i);if(Vr){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=jA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Cf(e);var i=e.queue,a=Kp.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,i){var a=nn();return Mf(a,e,i)},useTransition:function(){var e=Cf(!1);return e=qp.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=nn();if(xt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Wt===null)throw Error(r(349));(Dt&127)!==0||yp(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Vp(vp.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},_p.bind(null,o,f,a,i),null),a},useId:function(){var e=nn(),i=Wt.identifierPrefix;if(xt){var a=vi,o=_i;a=(o&~(1<<32-he(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Hu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=VA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:xf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:wf,useCacheRefresh:function(){return nn().memoizedState=zA.bind(null,bt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:He,use:Gu,useCallback:zp,useContext:He,useEffect:Nf,useImperativeHandle:Up,useInsertionEffect:kp,useLayoutEffect:Lp,useMemo:jp,useReducer:Qu,useRef:Mp,useState:function(){return Qu(zi)},useDebugValue:Of,useDeferredValue:function(e,i){var a=me();return Bp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Qu(zi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:xf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,i){var a=me();return Ap(a,Xt,e,i)},useMemoCache:wf,useCacheRefresh:Qp};Lf.useEffectEvent=xp;var Jp={readContext:He,use:Gu,useCallback:zp,useContext:He,useEffect:Nf,useImperativeHandle:Up,useInsertionEffect:kp,useLayoutEffect:Lp,useMemo:jp,useReducer:If,useRef:Mp,useState:function(){return If(zi)},useDebugValue:Of,useDeferredValue:function(e,i){var a=me();return Xt===null?Mf(a,e,i):Bp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=If(zi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:xf,useFormState:Op,useActionState:Op,useOptimistic:function(e,i){var a=me();return Xt!==null?Ap(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Qp};Jp.useEffectEvent=xp;function Pf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Es(o);h.payload=i,a!=null&&(h.callback=a),i=Ts(e,h,o),i!==null&&(cn(i,e,o),Ko(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Es(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ts(e,h,o),i!==null&&(cn(i,e,o),Ko(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),o=Es(a);o.tag=2,i!=null&&(o.callback=i),i=Ts(e,o,a),i!==null&&(cn(i,e,a),Ko(i,e,a))}};function Zp(e,i,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!zo(a,o)||!zo(h,f):!0}function Wp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Uf.enqueueReplaceState(i,i.state,null)}function xr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ty(e){Iu(e)}function ey(e){console.error(e)}function ny(e){Iu(e)}function $u(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function iy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,i,a){return a=Es(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(e,i)},a}function sy(e){return e=Es(e),e.tag=3,e}function ry(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){iy(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){iy(i,a,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function BA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&_a(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?lc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Pu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),cd(e,o,h)),!1;case 22:return a.flags|=65536,o===Pu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),cd(e,o,h)),!1}throw Error(r(435,a.tag))}return cd(e,o,h),lc(),!1}if(xt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==sf&&(e=Error(r(422),{cause:o}),qo(Dn(e,a)))):(o!==sf&&(i=Error(r(423),{cause:o}),qo(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=zf(e.stateNode,o,h),gf(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),ol===null?ol=[f]:ol.push(f),ce!==4&&(ce=2),i===null)return!0;o=Dn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zf(a.stateNode,o,e),gf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ry(h,e,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),Se=!1;function Fe(e,i,a,o){i.child=e===null?up(i,null,a,o):Mr(i,e.child,a,o)}function ay(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Cr(i),o=Tf(e,i,a,y,f,h),E=Af(),e!==null&&!Se?(Sf(e,i,h),ji(e,i,h)):(xt&&E&&ef(i),i.flags|=1,Fe(e,i,o,h),i.child)}function oy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,ly(e,i,f,o,h)):(e=Ou(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Yf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(y,o)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=xi(f,o),e.ref=i.ref,e.return=i,i.child=e}function ly(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===i.ref)if(Se=!1,i.pendingProps=o=f,Yf(e,h))(e.flags&131072)!==0&&(Se=!0);else return i.lanes=e.lanes,ji(e,i,h)}return Bf(e,i,a,o,h)}function uy(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return cy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(i,f!==null?f.cachePool:null),f!==null?fp(i,f):yf(),dp(i);else return o=i.lanes=536870912,cy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ku(i,f.cachePool),fp(i,f),Ss(),i.memoizedState=null):(e!==null&&ku(i,null),yf(),Ss());return Fe(e,i,h,a),i.child}function tl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cy(e,i,a,o,h){var f=hf();return f=f===null?null:{parent:Te._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&ku(i,null),yf(),dp(i),e!==null&&_a(e,i,o,!0),i.childLanes=h,null}function Ju(e,i){return i=Wu({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function hy(e,i,a){return Mr(i,e.child,null,a),e=Ju(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function qA(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=Ju(i,o),i.lanes=536870912,tl(null,e);if(vf(i),(e=ee)?(e=S_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:gs!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=i,i.child=a,qe=i,ee=null)):e=null,e===null)throw ys(i);return i.lanes=536870912,null}return Ju(i,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(vf(i),h)if(i.flags&256)i.flags&=-257,i=hy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Se||_a(e,i,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=Wt,o!==null&&(y=To(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,br(e,y),cn(o,e,y),jf;lc(),i=hy(e,i,a)}else e=f.treeContext,ee=xn(y.nextSibling),qe=i,xt=!0,ps=null,Mn=!1,e!==null&&Jg(i,e),i=Ju(i,o),i.flags|=4096;return i}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Bf(e,i,a,o,h){return Cr(i),a=Tf(e,i,a,o,void 0,h),o=Af(),e!==null&&!Se?(Sf(e,i,h),ji(e,i,h)):(xt&&o&&ef(i),i.flags|=1,Fe(e,i,a,h),i.child)}function fy(e,i,a,o,h,f){return Cr(i),i.updateQueue=null,a=gp(i,o,a,h),mp(e),o=Af(),e!==null&&!Se?(Sf(e,i,f),ji(e,i,f)):(xt&&o&&ef(i),i.flags|=1,Fe(e,i,a,f),i.child)}function dy(e,i,a,o,h){if(Cr(i),i.stateNode===null){var f=ma,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},df(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):ma,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Pf(i,a,y,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Xo(i,o,f,h),Yo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,D=xr(a,E);f.props=D;var z=f.context,F=a.contextType;y=ma,typeof F=="object"&&F!==null&&(y=He(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Wp(i,f,o,y),vs=!1;var j=i.memoizedState;f.state=j,Xo(i,o,f,h),Yo(),z=i.memoizedState,E||j!==z||vs?(typeof Y=="function"&&(Pf(i,a,Y,o),z=i.memoizedState),(D=vs||Zp(i,a,D,o,j,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=y,o=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,mf(e,i),y=i.memoizedProps,F=xr(a,y),f.props=F,Y=i.pendingProps,j=f.context,z=a.contextType,D=ma,typeof z=="object"&&z!==null&&(D=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||j!==D)&&Wp(i,f,o,D),vs=!1,j=i.memoizedState,f.state=j,Xo(i,o,f,h),Yo();var H=i.memoizedState;y!==Y||j!==H||vs||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Pf(i,a,E,o),H=i.memoizedState),(F=vs||Zp(i,a,F,o,j,H,D)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=D,o=F):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Zu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Mr(i,e.child,null,h),i.child=Mr(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=ji(e,i,h),e}function my(e,i,a,o){return Rr(),i.flags|=256,Fe(e,i,a,o),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(e){return{baseLanes:e,cachePool:ip()}}function Ff(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function gy(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(xt){if(h?As(i):Ss(),(e=ee)?(e=S_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:gs!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=i,i.child=a,qe=i,ee=null)):e=null,e===null)throw ys(i);return Rd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=i.mode,E=Wu({mode:"hidden",children:E},h),o=wr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,y,a),i.memoizedState=qf,tl(null,o)):(As(i),Gf(i,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)i.flags&256?(As(i),i.flags&=-257,i=Qf(e,i,a)):i.memoizedState!==null?(Ss(),i.child=e.child,i.flags|=128,i=null):(Ss(),E=o.fallback,h=i.mode,o=Wu({mode:"visible",children:o.children},h),E=wr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Mr(i,e.child,null,a),o=i.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,y,a),i.memoizedState=qf,i=tl(null,o));else if(As(i),Rd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,qo({value:o,source:null,stack:null}),i=Qf(e,i,a)}else if(Se||_a(e,i,a,!1),y=(a&e.childLanes)!==0,Se||y){if(y=Wt,y!==null&&(o=To(y,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,br(e,o),cn(y,e,o),jf;wd(E)||lc(),i=Qf(e,i,a)}else wd(E)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ee=xn(E.nextSibling),qe=i,xt=!0,ps=null,Mn=!1,e!==null&&Jg(i,e),i=Gf(i,o.children),i.flags|=4096);return i}return h?(Ss(),E=o.fallback,h=i.mode,D=e.child,z=D.sibling,o=xi(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,z!==null?E=xi(z,E):(E=wr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,tl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(D=Te._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=ip(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(e,y,a),i.memoizedState=qf,tl(e.child,o)):(As(i),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Gf(e,i){return i=Wu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Wu(e,i){return e=pn(22,e,null,i),e.lanes=0,e}function Qf(e,i,a){return Mr(i,e.child,null,a),e=Gf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function py(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),of(e.return,i,a)}function Kf(e,i,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function yy(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=de.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,it(de,y),Fe(e,i,o,a),o=xt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,i);else if(e.tag===19)py(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Kf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Kf(i,!0,a,null,f,o);break;case"together":Kf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Rs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(_a(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=xi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Yf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function HA(e,i,a){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),_s(i,Te,e.memoizedState.cache),Rr();break;case 27:case 5:ar(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:_s(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,vf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(As(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gy(e,i,a):(As(i),e=ji(e,i,a),e!==null?e.sibling:null);As(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(_a(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return yy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(de,de.current),o)break;return null;case 22:return i.lanes=0,uy(e,i,a,i.pendingProps);case 24:_s(i,Te,e.memoizedState.cache)}return ji(e,i,a)}function _y(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Se=!0;else{if(!Yf(e,a)&&(i.flags&128)===0)return Se=!1,HA(e,i,a);Se=(e.flags&131072)!==0}else Se=!1,xt&&(i.flags&1048576)!==0&&$g(i,Bo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Nr(i.elementType),i.type=e,typeof e=="function")Zh(e)?(o=xr(e,o),i.tag=1,i=dy(null,i,e,o,a)):(i.tag=0,i=Bf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===qt){i.tag=11,i=ay(null,i,e,o,a);break t}else if(h===w){i.tag=14,i=oy(null,i,e,o,a);break t}}throw i=se(e)||e,Error(r(306,i,""))}}return i;case 0:return Bf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=xr(o,i.pendingProps),dy(e,i,o,h,a);case 3:t:{if(Ne(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,mf(e,i),Xo(i,o,null,a);var y=i.memoizedState;if(o=y.cache,_s(i,Te,o),o!==f.cache&&lf(i,[Te],a,!0),Yo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=my(e,i,o,a);break t}else if(o!==h){h=Dn(Error(r(424)),i),qo(h),i=my(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=xn(e.firstChild),qe=i,xt=!0,ps=null,Mn=!0,a=up(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Rr(),o===h){i=ji(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=D_(i.type,null,i.pendingProps,null))?i.memoizedState=a:xt||(a=i.type,e=i.pendingProps,o=gc(wt.current).createElement(a),o[_e]=i,o[Le]=e,Ge(o,a,e),ve(o),i.stateNode=o):i.memoizedState=D_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ar(i),e===null&&xt&&(o=i.stateNode=R_(i.type,i.pendingProps,wt.current),qe=i,Mn=!0,h=ee,Os(i.type)?(Id=h,ee=xn(o.firstChild)):ee=h),Fe(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&xt&&((h=o=ee)&&(o=vS(o,i.type,i.pendingProps,Mn),o!==null?(i.stateNode=o,qe=i,ee=xn(o.firstChild),Mn=!1,h=!0):h=!1),h||ys(i)),ar(i),h=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:y!==null&&Ad(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Tf(e,i,xA,null,null,a),gl._currentValue=h),Zu(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&xt&&((e=a=ee)&&(a=ES(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qe=i,ee=null,e=!0):e=!1),e||ys(i)),null;case 13:return gy(e,i,a);case 4:return Ne(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Mr(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return ay(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,_s(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Cr(i),h=He(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return oy(e,i,i.type,i.pendingProps,a);case 15:return ly(e,i,i.type,i.pendingProps,a);case 19:return yy(e,i,a);case 31:return qA(e,i,a);case 22:return uy(e,i,a,i.pendingProps);case 24:return Cr(i),o=He(Te),e===null?(h=hf(),h===null&&(h=Wt,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},df(i),_s(i,Te,h)):((e.lanes&a)!==0&&(mf(e,i),Xo(i,null,null,a),Yo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_s(i,Te,o)):(o=f.cache,_s(i,Te,o),o!==h.cache&&lf(i,[Te],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Bi(e){e.flags|=4}function Xf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Or=Pu,ff}else e.flags&=-16777217}function vy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(i))if(Gy())e.flags|=8192;else throw Or=Pu,ff}function tc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?au():536870912,e.lanes|=i,Na|=i)}function el(e,i){if(!xt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function FA(e,i,a){var o=i.pendingProps;switch(nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pi(Te),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ya(i)?Bi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rf())),ne(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Bi(i),f!==null?(ne(i),vy(i,f)):(ne(i),Xf(i,h,null,o,a))):f?f!==e.memoizedState?(Bi(i),ne(i),vy(i,f)):(ne(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(i),ne(i),Xf(i,h,e,o,a)),null;case 27:if(Xr(i),a=wt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ne(i),null}e=at.current,ya(i)?Zg(i):(e=R_(h,o,a),i.stateNode=e,Bi(i))}return ne(i),null;case 5:if(Xr(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ne(i),null}if(f=at.current,ya(i))Zg(i);else{var y=gc(wt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[_e]=i,f[Le]=o;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(i)}}return ne(i),Xf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=wt.current,ya(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||ys(i,!0)}else e=gc(e).createTextNode(o),e[_e]=i,i.stateNode=e}return ne(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=ya(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=i}else Rr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=i}else Rr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),tc(i,i.updateQueue),ne(i),null);case 4:return re(),e===null&&yd(i.stateNode.containerInfo),ne(i),null;case 10:return Pi(i.type),ne(i),null;case 19:if(X(de),o=i.memoizedState,o===null)return ne(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Bu(e),f!==null){for(i.flags|=128,el(o,!1),e=f.updateQueue,i.updateQueue=e,tc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Kg(a,e),a=a.sibling;return it(de,de.current&1|2),xt&&ki(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&tn()>rc&&(i.flags|=128,h=!0,el(o,!1),i.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,tc(i,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ne(i),null}else 2*tn()-o.renderingStartTime>rc&&a!==536870912&&(i.flags|=128,h=!0,el(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=de.current,it(de,h?a&1|2:a&1),xt&&ki(i,o.treeForkCount),e):(ne(i),null);case 22:case 23:return _n(i),_f(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&tc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&X(Dr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(Te),ne(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function GA(e,i){switch(nf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(Te),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Xr(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(r(340));Rr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Rr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(de),null;case 4:return re(),null;case 10:return Pi(i.type),null;case 22:case 23:return _n(i),_f(),e!==null&&X(Dr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(Te),null;case 25:return null;default:return null}}function Ey(e,i){switch(nf(i),i.tag){case 3:Pi(Te),re();break;case 26:case 27:case 5:Xr(i);break;case 4:re();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:X(de);break;case 10:Pi(i.type);break;case 22:case 23:_n(i),_f(),e!==null&&X(Dr);break;case 24:Pi(Te)}}function nl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Kt(i,i.return,E)}}function bs(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var D=a,z=E;try{z()}catch(F){Kt(h,D,F)}}}o=o.next}while(o!==f)}}catch(F){Kt(i,i.return,F)}}function Ty(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{hp(i,a)}catch(o){Kt(e,e.return,o)}}}function Ay(e,i,a){a.props=xr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Kt(e,i,o)}}function il(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Kt(e,i,h)}}function Ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,i,h)}else a.current=null}function Sy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function $f(e,i,a){try{var o=e.stateNode;dS(o,e.type,a,i),o[Le]=i}catch(h){Kt(e,e.return,h)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(o!==4&&(o===27&&Os(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Zf(e,i,a),e=e.sibling;e!==null;)Zf(e,i,a),e=e.sibling}function ec(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,i,a),e=e.sibling;e!==null;)ec(e,i,a),e=e.sibling}function wy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[_e]=e,i[Le]=a}catch(f){Kt(e,e.return,f)}}var qi=!1,be=!1,Wf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function QA(e,i){if(e=e.containerInfo,Ed=Ac,e=Ug(e),Gh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,D=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(D=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++F===o&&(D=y),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:e,selectionRange:a},Ac=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=xr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function Iy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(e,a),o&4&&nl(5,a);break;case 1:if(Fi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var h=xr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}o&64&&Ty(a),o&512&&il(a,a.return);break;case 3:if(Fi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hp(e,i)}catch(y){Kt(a,a.return,y)}}break;case 27:i===null&&o&4&&wy(a);case 26:case 5:Fi(e,a),i===null&&o&4&&Sy(a),o&512&&il(a,a.return);break;case 12:Fi(e,a);break;case 31:Fi(e,a),o&4&&Ny(e,a);break;case 13:Fi(e,a),o&4&&Oy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=eS.bind(null,a),TS(e,a))));break;case 22:if(o=a.memoizedState!==null||qi,!o){i=i!==null&&i.memoizedState!==null||be,h=qi;var f=be;qi=o,(be=i)&&!f?Gi(e,a,(a.subtreeFlags&8772)!==0):Fi(e,a),qi=h,be=f}break;case 30:break;default:Fi(e,a)}}function Cy(e){var i=e.alternate;i!==null&&(e.alternate=null,Cy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ta(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Hi(e,i,a){for(a=a.child;a!==null;)Dy(e,i,a),a=a.sibling}function Dy(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:be||Ei(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||Ei(a,i);var o=oe,h=an;Os(a.type)&&(oe=a.stateNode,an=!1),Hi(e,i,a),fl(a.stateNode),oe=o,an=h;break;case 5:be||Ei(a,i);case 6:if(o=oe,h=an,oe=null,Hi(e,i,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Kt(a,i,f)}else try{oe.removeChild(a.stateNode)}catch(f){Kt(a,i,f)}break;case 18:oe!==null&&(an?(e=oe,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ua(e)):T_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Hi(e,i,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:bs(2,a,i),be||bs(4,a,i),Hi(e,i,a);break;case 1:be||(Ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,i,o)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:be=(o=be)||a.memoizedState!==null,Hi(e,i,a),be=o;break;default:Hi(e,i,a)}}function Ny(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(a){Kt(i,i.return,a)}}}function Oy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(a){Kt(i,i.return,a)}}function KA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ry),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ry),i;default:throw Error(r(435,e.tag))}}function nc(e,i){var a=KA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=nS.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(r(160));Dy(f,y,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)My(i,e),i=i.sibling}var Yn=null;function My(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(bs(3,e,e.return),nl(3,e),bs(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(be||a===null||Ei(a,a.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(on(i,e),ln(e),o&512&&(be||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[_e]=e,ve(f),o=f;break t;case"link":var y=M_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(y=M_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else V_(h,e.type,e.stateNode);else e.stateNode=O_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?V_(h,e.type,e.stateNode):O_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(be||a===null||Ei(a,a.return)),a!==null&&o&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(be||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Kt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,$f(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Kt(e,e.return,ot)}}break;case 3:if(_c=null,h=Yn,Yn=pc(i.containerInfo),on(i,e),Yn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(i.containerInfo)}catch(ot){Kt(e,e.return,ot)}Wf&&(Wf=!1,Vy(e));break;case 4:o=Yn,Yn=pc(e.stateNode.containerInfo),on(i,e),ln(e),Yn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=qi,F=be;if(qi=z||h,be=F||D,on(i,e),be=F,qi=z,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||qi||be||kr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(f=D.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var Y=D.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Kt(D,D.return,ot)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ot){Kt(D,D.return,ot)}}}else if(i.tag===18){if(a===null){D=i;try{var H=D.stateNode;h?A_(H,!0):A_(D.stateNode,!1)}catch(ot){Kt(D,D.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(by(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(e);ec(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(rn(y,""),a.flags&=-33);var E=Jf(e);ec(e,E,y);break;case 3:case 4:var D=a.stateNode.containerInfo,z=Jf(e);Zf(e,z,D);break;default:throw Error(r(161))}}catch(F){Kt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Vy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Fi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Iy(e,i.alternate,i),i=i.sibling}function kr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:bs(4,i,i.return),kr(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ay(i,i.return,a),kr(i);break;case 27:fl(i.stateNode);case 26:case 5:Ei(i,i.return),kr(i);break;case 22:i.memoizedState===null&&kr(i);break;case 30:kr(i);break;default:kr(i)}e=e.sibling}}function Gi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),nl(4,f);break;case 1:if(Gi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)cp(D[h],E)}catch(z){Kt(o,o.return,z)}}a&&y&64&&Ty(f),il(f,f.return);break;case 27:wy(f);case 26:case 5:Gi(h,f,a),a&&o===null&&y&4&&Sy(f),il(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&y&4&&Ny(h,f);break;case 13:Gi(h,f,a),a&&y&4&&Oy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),il(f,f.return);break;case 30:break;default:Gi(h,f,a)}i=i.sibling}}function td(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ho(a))}function ed(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e))}function Xn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xy(e,i,a,o),i=i.sibling}function xy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i,a,o),h&2048&&nl(9,i);break;case 1:Xn(e,i,a,o);break;case 3:Xn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Xn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Kt(i,i.return,D)}}else Xn(e,i,a,o);break;case 31:Xn(e,i,a,o);break;case 13:Xn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?Xn(e,i,a,o):sl(e,i):f._visibility&2?Xn(e,i,a,o):(f._visibility|=2,Ia(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&td(y,i);break;case 24:Xn(e,i,a,o),h&2048&&ed(i.alternate,i);break;default:Xn(e,i,a,o)}}function Ia(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,y=i,E=a,D=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ia(f,y,E,D,h),nl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ia(f,y,E,D,h):sl(f,y):(F._visibility|=2,Ia(f,y,E,D,h)),h&&z&2048&&td(y.alternate,y);break;case 24:Ia(f,y,E,D,h),h&&z&2048&&ed(y.alternate,y);break;default:Ia(f,y,E,D,h)}i=i.sibling}}function sl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&td(o.alternate,o);break;case 24:sl(a,o),h&2048&&ed(o.alternate,o);break;default:sl(a,o)}i=i.sibling}}var rl=8192;function Ca(e,i,a){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)ky(e,i,a),e=e.sibling}function ky(e,i,a){switch(e.tag){case 26:Ca(e,i,a),e.flags&rl&&e.memoizedState!==null&&VS(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,i,a);break;case 3:case 4:var o=Yn;Yn=pc(e.stateNode.containerInfo),Ca(e,i,a),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Ca(e,i,a),rl=o):Ca(e,i,a));break;default:Ca(e,i,a)}}function Ly(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ue=o,Uy(o,e)}Ly(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Py(e),e=e.sibling}function Py(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&bs(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ic(e)):al(e);break;default:al(e)}}function ic(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ue=o,Uy(o,e)}Ly(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:bs(8,i,i.return),ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ic(i));break;default:ic(i)}e=e.sibling}}function Uy(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:bs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Cy(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var YA={getCacheForType:function(e){var i=He(Te),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Te).controller.signal}},XA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Wt=null,It=null,Dt=0,Qt=0,vn=null,ws=!1,Da=!1,nd=!1,Qi=0,ce=0,Rs=0,Lr=0,id=0,En=0,Na=0,ol=null,un=null,sd=!1,sc=0,zy=0,rc=1/0,ac=null,Is=null,Me=0,Cs=null,Oa=null,Ki=0,rd=0,ad=null,jy=null,ll=0,od=null;function Tn(){return(Bt&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?dd():ou()}function By(){if(En===0)if((Dt&536870912)===0||xt){var e=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Ds(e,Dt,En,!1)),cr(e,a),((Bt&2)===0||e!==Wt)&&(e===Wt&&((Bt&2)===0&&(Lr|=a),ce===4&&Ds(e,Dt,En,!1)),Ti(e))}function qy(e,i,a){if((Bt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||zn(e,i),h=o?ZA(e,i):ud(e,i,!0),f=o;do{if(h===0){Da&&!o&&Ds(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!$A(a)){h=ud(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=ol;var D=E.current.memoizedState.isDehydrated;if(D&&(Ma(E,y).flags|=256),y=ud(E,y,!1),y!==2){if(nd&&!D){E.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Ds(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ds(o,i,En,!ws);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=sc+300-tn(),10<h)){if(Ds(o,i,En,!ws),ii(o,0,!0)!==0)break t;Ki=i,o.timeoutHandle=v_(Hy.bind(null,o,a,un,ac,sd,i,En,Lr,Na,ws,f,"Throttled",-0,0),h);break t}Hy(o,a,un,ac,sd,i,En,Lr,Na,ws,f,null,-0,0)}}break}while(!0);Ti(e)}function Hy(e,i,a,o,h,f,y,E,D,z,F,Y,j,H){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},ky(i,f,Y);var ot=(f&62914560)===f?sc-tn():(f&4194048)===f?zy-tn():0;if(ot=xS(Y,ot),ot!==null){Ki=f,e.cancelPendingCommit=ot(Jy.bind(null,e,i,f,a,o,h,y,E,D,F,Y,null,j,H)),Ds(e,f,y,!z);return}}Jy(e,i,f,a,o,h,y,E,D)}function $A(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ds(e,i,a,o){i&=~id,i&=~Lr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-he(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&hr(e,a,i)}function oc(){return(Bt&6)===0?(ul(0),!1):!0}function ld(){if(It!==null){if(Qt===0)var e=It.return;else e=It,Li=Ir=null,bf(e),Aa=null,Go=0,e=It;for(;e!==null;)Ey(e.alternate,e),e=e.return;It=null}}function Ma(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,pS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ki=0,ld(),Wt=e,It=a=xi(e.current,null),Dt=i,Qt=0,vn=null,ws=!1,Da=zn(e,i),nd=!1,Na=En=id=Lr=Rs=ce=0,un=ol=null,sd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-he(o),f=1<<h;i|=e[h],o&=~f}return Qi=i,Cu(),a}function Fy(e,i){bt=null,G.H=Wo,i===Ta||i===Lu?(i=ap(),Qt=3):i===ff?(i=ap(),Qt=4):Qt=i===jf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,It===null&&(ce=1,$u(e,Dn(i,e.current)))}function Gy(){var e=yn.current;return e===null?!0:(Dt&4194048)===Dt?Vn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Vn:!1}function Qy(){var e=G.H;return G.H=Wo,e===null?Wo:e}function Ky(){var e=G.A;return G.A=YA,e}function lc(){ce=4,ws||(Dt&4194048)!==Dt&&yn.current!==null||(Da=!0),(Rs&134217727)===0&&(Lr&134217727)===0||Wt===null||Ds(Wt,Dt,En,!1)}function ud(e,i,a){var o=Bt;Bt|=2;var h=Qy(),f=Ky();(Wt!==e||Dt!==i)&&(ac=null,Ma(e,i)),i=!1;var y=ce;t:do try{if(Qt!==0&&It!==null){var E=It,D=vn;switch(Qt){case 8:ld(),y=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Qt;if(Qt=0,vn=null,Va(e,E,D,z),a&&Da){y=0;break t}break;default:z=Qt,Qt=0,vn=null,Va(e,E,D,z)}}JA(),y=ce;break}catch(F){Fy(e,F)}while(!0);return i&&e.shellSuspendCounter++,Li=Ir=null,Bt=o,G.H=h,G.A=f,It===null&&(Wt=null,Dt=0,Cu()),y}function JA(){for(;It!==null;)Yy(It)}function ZA(e,i){var a=Bt;Bt|=2;var o=Qy(),h=Ky();Wt!==e||Dt!==i?(ac=null,rc=tn()+500,Ma(e,i)):Da=zn(e,i);t:do try{if(Qt!==0&&It!==null){i=It;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,Va(e,i,f,1);break;case 2:case 9:if(sp(f)){Qt=0,vn=null,Xy(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Ti(e)},f.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:sp(f)?(Qt=0,vn=null,Xy(i)):(Qt=0,vn=null,Va(e,i,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var E=It;if(y?x_(y):E.stateNode.complete){Qt=0,vn=null;var D=E.sibling;if(D!==null)It=D;else{var z=E.return;z!==null?(It=z,uc(z)):It=null}break e}}Qt=0,vn=null,Va(e,i,f,5);break;case 6:Qt=0,vn=null,Va(e,i,f,6);break;case 8:ld(),ce=6;break t;default:throw Error(r(462))}}WA();break}catch(F){Fy(e,F)}while(!0);return Li=Ir=null,G.H=o,G.A=h,Bt=a,It!==null?0:(Wt=null,Dt=0,Cu(),ce)}function WA(){for(;It!==null&&!Uh();)Yy(It)}function Yy(e){var i=_y(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,i===null?uc(e):It=i}function Xy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=fy(a,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=fy(a,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:bf(i);default:Ey(a,i),i=It=Kg(i,Qi),i=_y(a,i,Qi)}e.memoizedProps=e.pendingProps,i===null?uc(e):It=i}function Va(e,i,a,o){Li=Ir=null,bf(i),Aa=null,Go=0;var h=i.return;try{if(BA(e,h,i,a,Dt)){ce=1,$u(e,Dn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,$u(e,Dn(a,e.current)),It=null;return}i.flags&32768?(xt||o===1?e=!0:Da||(Dt&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(i,e)):uc(i)}function uc(e){var i=e;do{if((i.flags&32768)!==0){$y(i,ws);return}e=i.return;var a=FA(i.alternate,i,Qi);if(a!==null){It=a;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);ce===0&&(ce=5)}function $y(e,i){do{var a=GA(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);ce=6,It=null}function Jy(e,i,a,o,h,f,y,E,D){e.cancelPendingCommit=null;do cc();while(Me!==0);if((Bt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=$h,Bh(e,a,f,y,E,D),e===Wt&&(It=Wt=null,Dt=0),Oa=i,Cs=e,Ki=a,rd=f,ad=h,jy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,iS(rs,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,y=Bt,Bt|=4;try{QA(e,i,a)}finally{Bt=y,nt.p=h,G.T=o}}Me=1,Zy(),Wy(),t_()}}function Zy(){if(Me===1){Me=0;var e=Cs,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{My(i,e);var f=Td,y=Ug(e.containerInfo),E=f.focusedElem,D=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(D!==null&&Gh(E)){var z=D.start,F=D.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),ot=E.textContent.length,dt=Math.min(D.start,ot),Jt=D.end===void 0?dt:Math.min(D.end,ot);!H.extend&&dt>Jt&&(y=Jt,Jt=dt,dt=y);var k=Lg(E,dt),M=Lg(E,Jt);if(k&&M&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=Y.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),dt>Jt?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!Ed,Td=Ed=null}finally{Bt=h,nt.p=o,G.T=a}}e.current=i,Me=2}}function Wy(){if(Me===2){Me=0;var e=Cs,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{Iy(e,i.alternate,i)}finally{Bt=h,nt.p=o,G.T=a}}Me=3}}function t_(){if(Me===4||Me===3){Me=0,tu();var e=Cs,i=Oa,a=Ki,o=jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Oa=Cs=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Ni(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Un,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{G.T=i,nt.p=h}}(Ki&3)!==0&&cc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===od?ll++:(ll=0,od=e):ll=0,ul(0)}}function e_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ho(i)))}function cc(){return Zy(),Wy(),t_(),n_()}function n_(){if(Me!==5)return!1;var e=Cs,i=rd;rd=0;var a=Ni(Ki),o=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=ad,ad=null;var f=Cs,y=Ki;if(Me=0,Oa=Cs=null,Ki=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,Py(f.current),xy(f,f.current,y,a),Bt=E,ul(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{nt.p=h,G.T=o,e_(e,i)}}function i_(e,i,a){i=Dn(a,i),i=zf(e.stateNode,i,2),e=Ts(e,i,2),e!==null&&(cr(e,2),Ti(e))}function Kt(e,i,a){if(e.tag===3)i_(e,e,a);else for(;i!==null;){if(i.tag===3){i_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=Dn(a,e),a=sy(2),o=Ts(i,a,2),o!==null&&(ry(a,o,i,e),cr(o,2),Ti(o));break}}i=i.return}}function cd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new XA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(nd=!0,h.add(a),e=tS.bind(null,e,i,a),i.then(e,e))}function tS(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Dt&a)===a&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>tn()-sc?(Bt&2)===0&&Ma(e,0):id|=a,Na===Dt&&(Na=0)),Ti(e)}function s_(e,i){i===0&&(i=au()),e=br(e,i),e!==null&&(cr(e,i),Ti(e))}function eS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),s_(e,a)}function nS(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),s_(e,a)}function iS(e,i){return Oe(e,i)}var hc=null,xa=null,hd=!1,fc=!1,fd=!1,Ns=0;function Ti(e){e!==xa&&e.next===null&&(xa===null?hc=xa=e:xa=xa.next=e),fc=!0,hd||(hd=!0,rS())}function ul(e,i){if(!fd&&fc){fd=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l_(o,f))}else f=Dt,f=ii(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,l_(o,f));o=o.next}while(a);fd=!1}}function sS(){r_()}function r_(){fc=hd=!1;var e=0;Ns!==0&&gS()&&(e=Ns);for(var i=tn(),a=null,o=hc;o!==null;){var h=o.next,f=a_(o,i);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(xa=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Me!==0&&Me!==5||ul(e),Ns!==0&&(Ns=0)}function a_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-he(f),E=1<<y,D=h[y];D===-1?((E&a)===0||(E&o)!==0)&&(h[y]=jh(E,i)):D<=i&&(e.expiredLanes|=E),f&=~E}if(i=Wt,a=Dt,a=ii(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&ss(o),Ni(a)){case 2:case 8:a=vo;break;case 32:a=rs;break;case 268435456:a=eu;break;default:a=rs}return o=o_.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=Dt;return o=ii(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qy(e,o,i),a_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,i){if(cc())return null;qy(e,i,!0)}function rS(){yS(function(){(Bt&6)!==0?Oe(_o,sS):r_()})}function dd(){if(Ns===0){var e=va;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ns=e}return Ns}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function c_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function aS(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=u_((h[Le]||null).action),y=o.submitter;y&&(i=(i=y[Le]||null)?u_(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var D=y?c_(h,y):new FormData(h);Vf(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=y?c_(h,y):new FormData(h),Vf(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],oS=gd.toLowerCase(),lS=gd[0].toUpperCase()+gd.slice(1);Kn(oS,"on"+lS)}Kn(Bg,"onAnimationEnd"),Kn(qg,"onAnimationIteration"),Kn(Hg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(bA,"onTransitionRun"),Kn(wA,"onTransitionStart"),Kn(RA,"onTransitionCancel"),Kn(Fg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function h_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],D=E.instance,z=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=D}else for(y=0;y<o.length;y++){if(E=o[y],D=E.instance,z=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=D}}}}function Ct(e,i){var a=i[Wr];a===void 0&&(a=i[Wr]=new Set);var o=e+"__bubble";a.has(o)||(f_(i,e,2,!1),a.add(o))}function pd(e,i,a){var o=0;i&&(o|=4),f_(a,e,o,i)}var dc="_reactListening"+Math.random().toString(36).slice(2);function yd(e){if(!e[dc]){e[dc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(uS.has(a)||pd(a,!1,e),pd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[dc]||(i[dc]=!0,pd("selectionchange",!1,i))}}function f_(e,i,a,o){switch(B_(i)){case 2:var h=PS;break;case 8:h=US;break;default:h=Md}a=h.bind(null,i,a,e),h=void 0,!pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function _d(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){o=f=y;continue t}E=E.parentNode}}o=o.return}hs(function(){var z=f,F=wn(a),Y=[];t:{var j=Gg.get(e);if(j!==void 0){var H=mi,ot=e;switch(e){case"keypress":if(_r(a)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":ot="focus",H=Er;break;case"focusout":ot="blur",H=Er;break;case"beforeblur":case"afterblur":H=Er;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Bg:case qg:case Hg:H=yu;break;case Fg:H=A;break;case"scroll":case"scrollend":H=xo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=St}var dt=(i&4)!==0,Jt=!dt&&(e==="scroll"||e==="scrollend"),k=dt?j!==null?j+"Capture":null:j;dt=[];for(var M=z,U;M!==null;){var K=M;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=Hn(M,k),K!=null&&dt.push(hl(M,K,U))),Jt)break;M=M.return}0<dt.length&&(j=new H(j,ot,null,a,F),Y.push({event:j,listeners:dt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==Oo&&(ot=a.relatedTarget||a.fromElement)&&(oi(ot)||ot[ri]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ot=a.relatedTarget||a.toElement,H=z,ot=ot?oi(ot):null,ot!==null&&(Jt=u(ot),dt=ot.tag,ot!==Jt||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(dt=ko,K="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Vi,K="onPointerLeave",k="onPointerEnter",M="pointer"),Jt=H==null?j:dn(H),U=ot==null?j:dn(ot),j=new dt(K,M+"leave",H,a,F),j.target=Jt,j.relatedTarget=U,K=null,oi(F)===z&&(dt=new dt(k,M+"enter",ot,a,F),dt.target=U,dt.relatedTarget=Jt,K=dt),Jt=K,H&&ot)e:{for(dt=cS,k=H,M=ot,U=0,K=k;K;K=dt(K))U++;K=0;for(var ct=M;ct;ct=dt(ct))K++;for(;0<U-K;)k=dt(k),U--;for(;0<K-U;)M=dt(M),K--;for(;U--;){if(k===M||M!==null&&k===M.alternate){dt=k;break e}k=dt(k),M=dt(M)}dt=null}else dt=null;H!==null&&d_(Y,j,H,dt,!1),ot!==null&&Jt!==null&&d_(Y,Jt,ot,dt,!0)}}t:{if(j=z?dn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ut=Ng;else if(Cg(j))if(Og)Ut=TA;else{Ut=vA;var lt=_A}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ia(z.elementType)&&(Ut=Ng):Ut=EA;if(Ut&&(Ut=Ut(e,z))){Dg(Y,Ut,a,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(lt=z?dn(z):window,e){case"focusin":(Cg(lt)||lt.contentEditable==="true")&&(ha=lt,Qh=z,jo=null);break;case"focusout":jo=Qh=ha=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,zg(Y,a,F);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":zg(Y,a,F)}var Rt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ca?Tr(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(yi&&a.locale!=="ko"&&(ca||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ca&&(Rt=Vo()):(di=F,Mo="value"in di?di.value:di.textContent,ca=!0)),lt=mc(z,Nt),0<lt.length&&(Nt=new pi(Nt,e,null,a,F),Y.push({event:Nt,listeners:lt}),Rt?Nt.data=Rt:(Rt=ua(a),Rt!==null&&(Nt.data=Rt)))),(Rt=In?mA(e,a):gA(e,a))&&(Nt=mc(z,"onBeforeInput"),0<Nt.length&&(lt=new pi("onBeforeInput","beforeinput",null,a,F),Y.push({event:lt,listeners:Nt}),lt.data=Rt)),aS(Y,e,z,a,F)}h_(Y,i)})}function hl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function mc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,a),h!=null&&o.unshift(hl(e,h,f)),h=Hn(e,i),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function cS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,i,a,o,h){for(var f=i._reactName,y=[];a!==null&&a!==o;){var E=a,D=E.alternate,z=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||z===null||(D=z,h?(z=Hn(a,f),z!=null&&y.unshift(hl(a,z,D))):h||(z=Hn(a,f),z!=null&&y.push(hl(a,z,D)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(hS,`
`).replace(fS,"")}function g_(e,i){return i=m_(i),m_(e)===i}function $t(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":No(e,o,f);break;case"data":if(i!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&$t(e,i,"name",h.name,h,null),$t(e,i,"formEncType",h.formEncType,h,null),$t(e,i,"formMethod",h.formMethod,h,null),$t(e,i,"formTarget",h.formTarget,h,null)):($t(e,i,"encType",h.encType,h,null),$t(e,i,"method",h.method,h,null),$t(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,ea(e,a,o))}}function vd(e,i,a,o,h,f){switch(a){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Le]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ea(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:$t(e,i,f,y,a,null)}}h&&$t(e,i,"srcSet",a.srcSet,a,null),o&&$t(e,i,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=y=h=null,D=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":D=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:$t(e,i,o,F,a,null)}}hu(e,f,E,D,z,y,h,!1);return;case"select":Ct("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:$t(e,i,h,E,a,null)}i=f,a=y,e.multiple=!!o,i!=null?os(e,!!o,i,!1):a!=null&&os(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:$t(e,i,y,E,a,null)}ls(e,o,h,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(o=a[D],o!=null)&&(D==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,i,D,o,a,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Ct(cl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:$t(e,i,z,o,a,null)}return;default:if(ia(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&vd(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$t(e,i,E,o,a,null))}function dS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,D=null,z=null,F=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=Y;default:o.hasOwnProperty(H)||$t(e,i,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&$t(e,i,j,H,o,Y)}}na(e,y,E,D,z,F,f,h);return;case"select":H=y=E=j=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:o.hasOwnProperty(f)||$t(e,i,f,null,o,D)}for(h in o)if(f=o[h],D=a[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==D&&$t(e,i,h,f,o,D)}i=E,a=y,o=H,j!=null?os(e,!!a,j,!1):!!o!=!!a&&(i!=null?os(e,!!a,i,!0):os(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,i,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&$t(e,i,y,h,o,f)}fu(e,j,H);return;case"option":for(var ot in a)j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,i,ot,null,o,j));for(D in o)j=o[D],H=a[D],o.hasOwnProperty(D)&&j!==H&&(j!=null||H!=null)&&(D==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,i,D,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt)&&$t(e,i,dt,null,o,j);for(z in o)if(j=o[z],H=a[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:$t(e,i,z,j,o,H)}return;default:if(ia(i)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!o.hasOwnProperty(Jt)&&vd(e,i,Jt,void 0,o,j);for(F in o)j=o[F],H=a[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||vd(e,i,F,j,o,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&$t(e,i,k,null,o,j);for(Y in o)j=o[Y],H=a[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||$t(e,i,Y,j,o,H)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&p_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var D=a[o],z=D.startTime;if(z>E)break;var F=D.transferSize,Y=D.initiatorType;F&&p_(Y)&&(D=D.responseEnd,y+=F*(D<E?1:(E-z)/(D-z)))}if(--o,i+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ed=null,Td=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ad(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sd=null;function gS(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(e){return E_.resolve(null).then(e).catch(_S)}:v_;function _S(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function T_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ua(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")fl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&fl(e.ownerDocument.body);a=h}while(a);Ua(i)}function A_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function bd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function ES(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function S_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=xn(e.nextSibling),e===null))return null;return e}function wd(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function TS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Id=null;function b_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function w_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function R_(e,i,a){switch(i=gc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ta(e)}var kn=new Map,I_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=nt.d;nt.d={f:AS,r:SS,D:bS,C:wS,L:RS,m:IS,X:DS,S:CS,M:NS};function AS(){var e=Yi.f(),i=oc();return e||i}function SS(e){var i=bn(e);i!==null&&i.tag===5&&i.type==="form"?Fp(i):Yi.r(e)}var ka=typeof document>"u"?null:document;function C_(e,i,a){var o=ka;if(o&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),ve(i),o.head.appendChild(i)))}}function bS(e){Yi.D(e),C_("dns-prefetch",e,null)}function wS(e,i){Yi.C(e,i),C_("preconnect",e,i)}function RS(e,i,a){Yi.L(e,i,a);var o=ka;if(o&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(i){case"style":f=La(e);break;case"script":f=Pa(e)}kn.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(dl(f))||i==="script"&&o.querySelector(ml(f))||(i=o.createElement("link"),Ge(i,"link",e),ve(i),o.head.appendChild(i)))}}function IS(e,i){Yi.m(e,i);var a=ka;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},i),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(f)))return}o=a.createElement("link"),Ge(o,"link",e),ve(o),a.head.appendChild(o)}}}function CS(e,i,a){Yi.S(e,i,a);var o=ka;if(o&&e){var h=li(o).hoistableStyles,f=La(e);i=i||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(dl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(f))&&Cd(e,a);var D=y=o.createElement("link");ve(D),Ge(D,"link",e),D._p=new Promise(function(z,F){D.onload=z,D.onerror=F}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function DS(e,i){Yi.X(e,i);var a=ka;if(a&&e){var o=li(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=S({src:e,async:!0},i),(i=kn.get(h))&&Dd(e,i),f=a.createElement("script"),ve(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function NS(e,i){Yi.M(e,i);var a=ka;if(a&&e){var o=li(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&Dd(e,i),f=a.createElement("script"),ve(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function D_(e,i,a,o){var h=(h=wt.current)?pc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=li(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var f=li(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(dl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||OS(h,e,a,y.state))),i&&o===null)throw Error(r(528,""));return y}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(a),a=li(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function La(e){return'href="'+sn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function OS(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),ve(i),e.head.appendChild(i))}function Pa(e){return'[src="'+sn(e)+'"]'}function ml(e){return"script[async]"+e}function O_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,ve(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),Ge(o,"style",h),yc(o,a.precedence,e),i.instance=o;case"stylesheet":h=La(a.href);var f=e.querySelector(dl(h));if(f)return i.state.loading|=4,i.instance=f,ve(f),f;o=N_(a),(h=kn.get(h))&&Cd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var y=f;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Ge(f,"link",o),i.state.loading|=4,yc(f,a.precedence,e),i.instance=f;case"script":return f=Pa(a.src),(h=e.querySelector(ml(f)))?(i.instance=h,ve(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,yc(o,a.precedence,e));return i.instance}function yc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var _c=null;function M_(e,i,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function V_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function MS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function VS(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=i.querySelector(dl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=vc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,ve(f);return}f=i.ownerDocument||i,o=N_(o),(h=kn.get(h))&&Cd(o,h),f=f.createElement("link"),ve(f);var y=f;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Nd=0;function xS(e,i){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Nd===0&&(Nd=62500*mS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,i.forEach(kS,e),Ec=null,vc.call(e))}function kS(e,i){if(!(i.state.loading&4)){var a=Ec.get(e);if(a)var o=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var gl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function LS(e,i,a,o,h,f,y,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function k_(e,i,a,o,h,f,y,E,D,z,F,Y){return e=new LS(e,i,a,y,D,z,F,Y,E),i=1,f===!0&&(i|=24),f=pn(3,null,null,i),e.current=f,f.stateNode=e,i=uf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},df(f),e}function L_(e){return e?(e=ma,e):ma}function P_(e,i,a,o,h,f){h=L_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ts(e,o,i),a!==null&&(cn(a,e,i),Ko(a,e,i))}function U_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Od(e,i){U_(e,i),(e=e.alternate)&&U_(e,i)}function z_(e){if(e.tag===13||e.tag===31){var i=br(e,67108864);i!==null&&cn(i,e,67108864),Od(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var i=Tn();i=fr(i);var a=br(e,i);a!==null&&cn(a,e,i),Od(e,i)}}var Ac=!0;function PS(e,i,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Md(e,i,a,o)}finally{nt.p=f,G.T=h}}function US(e,i,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Md(e,i,a,o)}finally{nt.p=f,G.T=h}}function Md(e,i,a,o){if(Ac){var h=Vd(o);if(h===null)_d(e,i,o,Sc,a),q_(e,o);else if(jS(h,e,i,a,o))o.stopPropagation();else if(q_(e,o),i&4&&-1<zS.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ni(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-he(y);E.entanglements[1]|=D,y&=~D}Ti(f),(Bt&6)===0&&(rc=tn()+500,ul(0))}}break;case 31:case 13:E=br(f,2),E!==null&&cn(E,f,2),oc(),Od(f,2)}if(f=Vd(o),f===null&&_d(e,i,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(e,i,o,null,a)}}function Vd(e){return e=wn(e),xd(e)}var Sc=null;function xd(e){if(Sc=null,e=oi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Sc=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case _o:return 2;case vo:return 8;case rs:case zh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var kd=!1,Ms=null,Vs=null,xs=null,pl=new Map,yl=new Map,ks=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,i){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(i.pointerId)}}function _l(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&z_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function jS(e,i,a,o,h){switch(i){case"focusin":return Ms=_l(Ms,e,i,a,o,h),!0;case"dragenter":return Vs=_l(Vs,e,i,a,o,h),!0;case"mouseover":return xs=_l(xs,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,i,a,o,h)),!0}return!1}function H_(e){var i=oi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,jn(e.priority,function(){j_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,jn(e.priority,function(){j_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Oo=o,a.target.dispatchEvent(o),Oo=null}else return i=bn(a),i!==null&&z_(i),e.blockedOn=a,!1;i.shift()}return!0}function F_(e,i,a){bc(e)&&a.delete(i)}function BS(){kd=!1,Ms!==null&&bc(Ms)&&(Ms=null),Vs!==null&&bc(Vs)&&(Vs=null),xs!==null&&bc(xs)&&(xs=null),pl.forEach(F_),yl.forEach(F_)}function wc(e,i){e.blockedOn===i&&(e.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,BS)))}var Rc=null;function G_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var f=bn(a);f!==null&&(e.splice(i,3),i-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ua(e){function i(D){return wc(D,e)}Ms!==null&&wc(Ms,e),Vs!==null&&wc(Vs,e),xs!==null&&wc(xs,e),pl.forEach(i),yl.forEach(i);for(var a=0;a<ks.length;a++){var o=ks[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(a=ks[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&ks.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Le]||null;if(typeof f=="function")y||G_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Le]||null)E=y.formAction;else if(xd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),G_(a)}}}function Q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Ic.prototype.render=Ld.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Tn();P_(a,o,e,i,null,null)},Ic.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;P_(e.current,2,null,e,null,null),oc(),i[ri]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var i=ou();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ks.length&&i!==0&&i<ks[a].priority;a++);ks.splice(a,0,e),a===0&&H_(e)}};var K_=t.version;if(K_!=="19.2.3")throw Error(r(527,K_,"19.2.3"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var qS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Un=Cc.inject(qS),je=Cc}catch{}}return El.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=ty,f=ey,y=ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=k_(e,1,!1,null,null,a,o,null,h,f,y,Q_),e[ri]=i.current,yd(e),new Ld(i)},El.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ty,y=ey,E=ny,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=k_(e,1,!0,i,a??null,o,h,D,f,y,E,Q_),i.context=L_(null),a=i.current,o=Tn(),o=fr(o),h=Es(o),h.callback=null,Ts(a,h,o),a=o,i.current.lanes=a,cr(i,a),Ti(i),e[ri]=i.current,yd(e),new Ic(i)},El.version="19.2.3",El}var iv;function ZS(){if(iv)return zd.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zd.exports=JS(),zd.exports}var WS=ZS();const t1=()=>{};var sv={};const zE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},e1=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],g=s[n++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,T=u>>2,S=(u&3)<<4|g>>4;let N=(g&15)<<2|_>>6,q=_&63;p||(q=64,d||(N=64)),r.push(n[T],n[S],n[N],n[q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(zE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):e1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||S==null)throw new n1;const N=u<<2|g>>4;if(r.push(N),_!==64){const q=g<<4&240|_>>2;if(r.push(q),S!==64){const Z=_<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i1=function(s){const t=zE(s);return jE.encodeByteArray(t,!0)},Qc=function(s){return i1(s).replace(/\./g,"")},BE=function(s){try{return jE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const r1=()=>s1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof sv>"u")return;const s=sv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},o1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&BE(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return t1()||r1()||a1()||o1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qE=s=>fh()?.emulatorHosts?.[s],l1=s=>{const t=qE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},HE=()=>fh()?.config,FE=s=>fh()?.[`_${s}`];class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function ro(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GE(s){return(await fetch(s,{credentials:"include"})).ok}function c1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(n)),Qc(JSON.stringify(d)),""].join(".")}const Rl={};function h1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?s.emulator.push(t):s.prod.push(t);return s}function f1(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let rv=!1;function QE(s,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Rl[s]===t||Rl[s]||rv)return;Rl[s]=t;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=h1().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{rv=!0,d()},N}function T(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=f1(r),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),J=document.getElementById(W)||document.createElement("a"),ht=n("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const mt=N.element;g(mt),T(J,W);const qt=_();p(Et,ht),mt.append(Et,Z,J,qt),document.body.appendChild(mt)}u?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function m1(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _1(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function v1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E1(){try{return typeof indexedDB=="object"}catch{return!1}}function T1(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const A1="FirebaseError";class ns extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=A1,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?S1(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ns(l,g,r)}}function S1(s,t){return s.replace(b1,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const b1=/\{\$([^}]+)}/g;function w1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function zr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(av(u)&&av(d)){if(!zr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function av(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Tl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Al(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function R1(s,t){const n=new I1(s,t);return n.subscribe.bind(n)}class I1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Hd(){}function ke(s){return s&&s._delegate?s._delegate:s}class jr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class D1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new u1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(O1(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N1(s){return s===Pr?void 0:s}function O1(s){return s.instantiationMode==="EAGER"}class M1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new D1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const V1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},x1=Ot.INFO,k1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},L1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=k1[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=x1,this._logHandler=L1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?V1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const P1=(s,t)=>t.some(n=>s instanceof n);let ov,lv;function U1(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z1(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,em=new WeakMap,YE=new WeakMap,Fd=new WeakMap,Om=new WeakMap;function j1(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Hs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&KE.set(n,s)}).catch(()=>{}),Om.set(t,s),t}function B1(s){if(em.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,t)}let nm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return em.get(s);if(t==="objectStoreNames")return s.objectStoreNames||YE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function q1(s){nm=s(nm)}function H1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Gd(this),t,...n);return YE.set(r,t.sort?t.sort():[t]),Hs(r)}:z1().includes(s)?function(...t){return s.apply(Gd(this),t),Hs(KE.get(this))}:function(...t){return Hs(s.apply(Gd(this),t))}}function F1(s){return typeof s=="function"?H1(s):(s instanceof IDBTransaction&&B1(s),P1(s,U1())?new Proxy(s,nm):s)}function Hs(s){if(s instanceof IDBRequest)return j1(s);if(Fd.has(s))return Fd.get(s);const t=F1(s);return t!==s&&(Fd.set(s,t),Om.set(t,s)),t}const Gd=s=>Om.get(s);function G1(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),g=Hs(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Hs(d.result),p.oldVersion,p.newVersion,Hs(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Q1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],Qd=new Map;function uv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=K1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Q1.includes(n)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Qd.set(t,u),u}q1(s=>({...s,get:(t,n,r)=>uv(t,n)||s.get(t,n,r),has:(t,n)=>!!uv(t,n)||s.has(t,n)}));class Y1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X1(s){return s.getComponent()?.type==="VERSION"}const im="@firebase/app",cv="0.14.6";const Zi=new Nm("@firebase/app"),$1="@firebase/app-compat",J1="@firebase/analytics-compat",Z1="@firebase/analytics",W1="@firebase/app-check-compat",tb="@firebase/app-check",eb="@firebase/auth",nb="@firebase/auth-compat",ib="@firebase/database",sb="@firebase/data-connect",rb="@firebase/database-compat",ab="@firebase/functions",ob="@firebase/functions-compat",lb="@firebase/installations",ub="@firebase/installations-compat",cb="@firebase/messaging",hb="@firebase/messaging-compat",fb="@firebase/performance",db="@firebase/performance-compat",mb="@firebase/remote-config",gb="@firebase/remote-config-compat",pb="@firebase/storage",yb="@firebase/storage-compat",_b="@firebase/firestore",vb="@firebase/ai",Eb="@firebase/firestore-compat",Tb="firebase",Ab="12.6.0";const sm="[DEFAULT]",Sb={[im]:"fire-core",[$1]:"fire-core-compat",[Z1]:"fire-analytics",[J1]:"fire-analytics-compat",[tb]:"fire-app-check",[W1]:"fire-app-check-compat",[eb]:"fire-auth",[nb]:"fire-auth-compat",[ib]:"fire-rtdb",[sb]:"fire-data-connect",[rb]:"fire-rtdb-compat",[ab]:"fire-fn",[ob]:"fire-fn-compat",[lb]:"fire-iid",[ub]:"fire-iid-compat",[cb]:"fire-fcm",[hb]:"fire-fcm-compat",[fb]:"fire-perf",[db]:"fire-perf-compat",[mb]:"fire-rc",[gb]:"fire-rc-compat",[pb]:"fire-gcs",[yb]:"fire-gcs-compat",[_b]:"fire-fst",[Eb]:"fire-fst-compat",[vb]:"fire-vertex","fire-js":"fire-js",[Tb]:"fire-js-all"};const Kc=new Map,bb=new Map,rm=new Map;function hv(s,t){try{s.container.addComponent(t)}catch(n){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ja(s){const t=s.name;if(rm.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,s);for(const n of Kc.values())hv(n,s);for(const n of bb.values())hv(n,s);return!0}function Mm(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Ln(s){return s==null?!1:s.settings!==void 0}const wb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Bl("app","Firebase",wb);class Rb{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const ao=Ab;function XE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:sm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(n||(n=HE()),!n)throw Fs.create("no-options");const u=Kc.get(l);if(u){if(zr(n,u.options)&&zr(r,u.config))return u;throw Fs.create("duplicate-app",{appName:l})}const d=new M1(l);for(const p of rm.values())d.addComponent(p);const g=new Rb(n,r,d);return Kc.set(l,g),g}function $E(s=sm){const t=Kc.get(s);if(!t&&s===sm&&HE())return XE();if(!t)throw Fs.create("no-app",{appName:s});return t}function Gs(s,t,n){let r=Sb[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Ja(new jr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Ib="firebase-heartbeat-database",Cb=1,Ol="firebase-heartbeat-store";let Kd=null;function JE(){return Kd||(Kd=G1(Ib,Cb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(s=>{throw Fs.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function Db(s){try{const n=(await JE()).transaction(Ol),r=await n.objectStore(Ol).get(ZE(s));return await n.done,r}catch(t){if(t instanceof ns)Zi.warn(t.message);else{const n=Fs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(n.message)}}}async function fv(s,t){try{const r=(await JE()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(t,ZE(s)),await r.done}catch(n){if(n instanceof ns)Zi.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(r.message)}}}function ZE(s){return`${s.name}!${s.options.appId}`}const Nb=1024,Ob=30;class Mb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Ob){const l=kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dv(),{heartbeatsToSend:n,unsentEntries:r}=Vb(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function dv(){return new Date().toISOString().substring(0,10)}function Vb(s,t=Nb){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),mv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),mv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E1()?T1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Db(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function mv(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function kb(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function Lb(s){Ja(new jr("platform-logger",t=>new Y1(t),"PRIVATE")),Ja(new jr("heartbeat",t=>new Mb(t),"PRIVATE")),Gs(im,cv,s),Gs(im,cv,"esm2020"),Gs("fire-js","")}Lb("");var Pb="firebase",Ub="12.7.0";Gs(Pb,Ub,"app");function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zb=WE,tT=new Bl("auth","Firebase",WE());const Yc=new Nm("@firebase/auth");function jb(s,...t){Yc.logLevel<=Ot.WARN&&Yc.warn(`Auth (${ao}): ${s}`,...t)}function Lc(s,...t){Yc.logLevel<=Ot.ERROR&&Yc.error(`Auth (${ao}): ${s}`,...t)}function Zn(s,...t){throw Vm(s,...t)}function Si(s,...t){return Vm(s,...t)}function eT(s,t,n){const r={...zb(),[t]:n};return new Bl("auth","Firebase",r).create(t,{appName:s.name})}function Ji(s){return eT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return tT.create(s,...t)}function pt(s,t,...n){if(!s)throw Vm(t,...n)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function Wi(s,t){s||Xi(t)}function am(){return typeof self<"u"&&self.location?.href||""}function Bb(){return gv()==="http:"||gv()==="https:"}function gv(){return typeof self<"u"&&self.location?.protocol||null}function qb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bb()||p1()||"connection"in navigator)?navigator.onLine:!0}function Hb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Hl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wi(n>t,"Short delay should be less than long delay!"),this.isMobile=d1()||y1()}get(){return qb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class nT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Gb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qb=new Hl(3e4,6e4);function nr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ir(s,t,n,r,l={}){return iT(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const g=ql({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...u};return g1()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ro(s.emulatorConfig.host)&&(_.credentials="include"),nT.fetch()(await sT(s,s.config.apiHost,n,g),_)})}async function iT(s,t,n){s._canInitEmulator=!1;const r={...Fb,...t};try{const l=new Yb(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Dc(s,"user-disabled",d);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw eT(s,T,_);Zn(s,T)}}catch(l){if(l instanceof ns)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function Fl(s,t,n,r,l={}){const u=await ir(s,t,n,r,l);return"mfaPendingCredential"in u&&Zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function sT(s,t,n,r){const l=`${t}${n}?${r}`,u=s,d=u.config.emulator?xm(s.config,l):`${s.config.apiScheme}://${l}`;return Gb.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function Kb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),Qb.get())})}}function Dc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Si(s,t,r);return l.customData._tokenResponse=n,l}function pv(s){return s!==void 0&&s.enterprise!==void 0}class Xb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Kb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $b(s,t){return ir(s,"GET","/v2/recaptchaConfig",nr(s,t))}async function Jb(s,t){return ir(s,"POST","/v1/accounts:delete",t)}async function Xc(s,t){return ir(s,"POST","/v1/accounts:lookup",t)}function Il(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Zb(s,t=!1){const n=ke(s),r=await n.getIdToken(t),l=km(r);pt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Il(Yd(l.auth_time)),issuedAtTime:Il(Yd(l.iat)),expirationTime:Il(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Yd(s){return Number(s)*1e3}function km(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=BE(n);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function yv(s){const t=km(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ns&&Wb(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Wb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class tw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(s){const t=s.auth,n=await s.getIdToken(),r=await Ml(s,Xc(t,{idToken:n}));pt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?rT(l.providerUserInfo):[],d=nw(s.providerData,u),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function ew(s){const t=ke(s);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function rT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iw(s,t){const n=await iT(s,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await sT(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&ro(s.emulatorConfig.host)&&(p.credentials="include"),nT.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sw(s,t){return ir(s,"POST","/v2/accounts:revokeToken",nr(s,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=yv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await iw(t,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new Fa;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(pt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ps(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Zb(this,t)}reload(){return ew(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Ml(this,Jb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:q,providerData:Z,stsTokenManager:W}=n;pt(S&&W,t,"internal-error");const J=Fa.fromJSON(this.name,W);pt(typeof S=="string",t,"internal-error"),Ps(r,t.name),Ps(l,t.name),pt(typeof N=="boolean",t,"internal-error"),pt(typeof q=="boolean",t,"internal-error"),Ps(u,t.name),Ps(d,t.name),Ps(g,t.name),Ps(p,t.name),Ps(_,t.name),Ps(T,t.name);const ht=new $n({uid:S,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:q,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:T});return Z&&Array.isArray(Z)&&(ht.providerData=Z.map(Et=>({...Et}))),p&&(ht._redirectEventId=p),ht}static async _fromIdTokenResponse(t,n,r=!1){const l=new Fa;l.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await $c(u),u}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];pt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?rT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new Fa;g.updateFromIdToken(r);const p=new $n({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,_),p}}const _v=new Map;function $i(s){Wi(s instanceof Function,"Expected a class definition");let t=_v.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,_v.set(s,t),t)}class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}aT.type="NONE";const vv=aT;function Pc(s,t,n){return`firebase:${s}:${t}:${n}`}class Ga{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Pc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Xc(this.auth,{idToken:t}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ga($i(vv),t,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||$i(vv);const d=Pc(r,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(d);if(T){let S;if(typeof T=="string"){const N=await Xc(t,{idToken:T}).catch(()=>{});if(!N)break;S=await $n._fromGetAccountInfoResponse(t,N,T)}else S=$n._fromJSON(t,T);_!==u&&(g=S),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ga(u,t,r):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Ga(u,t,r))}}function Ev(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fT(t))return"Blackberry";if(dT(t))return"Webos";if(lT(t))return"Safari";if((t.includes("chrome/")||uT(t))&&!t.includes("edge/"))return"Chrome";if(hT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function oT(s=We()){return/firefox\//i.test(s)}function lT(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uT(s=We()){return/crios\//i.test(s)}function cT(s=We()){return/iemobile/i.test(s)}function hT(s=We()){return/android/i.test(s)}function fT(s=We()){return/blackberry/i.test(s)}function dT(s=We()){return/webos/i.test(s)}function Lm(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rw(s=We()){return Lm(s)&&!!window.navigator?.standalone}function aw(){return _1()&&document.documentMode===10}function mT(s=We()){return Lm(s)||hT(s)||dT(s)||fT(s)||/windows phone/i.test(s)||cT(s)}function gT(s,t=[]){let n;switch(s){case"Browser":n=Ev(We());break;case"Worker":n=`${Ev(We())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${r}`}class ow{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((d,g)=>{try{const p=t(u);d(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function lw(s,t={}){return ir(s,"GET","/v2/passwordPolicy",nr(s,t))}const uw=6;class cw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class hw{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tv(this),this.idTokenSubscription=new Tv(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Xc(this,{idToken:t}),r=await $n._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Hb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Ji(this));const n=t?ke(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lw(this),n=new cw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&$i(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gr(s){return ke(s)}class Tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=R1(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(s){dh=s}function pT(s){return dh.loadJS(s)}function dw(){return dh.recaptchaEnterpriseScript}function mw(){return dh.gapiScript}function gw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class pw{constructor(){this.enterprise=new yw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class yw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const _w="recaptcha-enterprise",yT="NO_RECAPTCHA";class vw{constructor(t){this.type=_w,this.auth=Gr(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{$b(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new Xb(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;pv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(_=>{d(_)}).catch(()=>{d(yT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!n&&pv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=dw();p.length!==0&&(p+=g),pT(p).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function Av(s,t,n,r=!1,l=!1){const u=new vw(s);let d;if(l)d=yT;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function lm(s,t,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Av(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Av(s,t,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function Ew(s,t){const n=Mm(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(zr(u,t??{}))return l;Zn(l,"already-initialized")}return n.initialize({options:t})}function Tw(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map($i);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Aw(s,t,n){const r=Gr(s);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=_T(t),{host:d,port:g}=Sw(t),p=g===null?"":`:${g}`,_={url:`${u}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(zr(_,r.config.emulator)&&zr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ro(d)?(GE(`${u}//${d}${p}`),QE("Auth",!0)):bw()}function _T(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Sw(s){const t=_T(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Sv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Sv(d)}}}function Sv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function bw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Pm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,n){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function ww(s,t){return ir(s,"POST","/v1/accounts:signUp",t)}async function Rw(s,t){return Fl(s,"POST","/v1/accounts:signInWithPassword",nr(s,t))}async function Iw(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",nr(s,t))}async function Cw(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",nr(s,t))}class Vl extends Pm{constructor(t,n,r,l=null){super("password",r),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Vl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Vl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,n,"signInWithPassword",Rw);case"emailLink":return Iw(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,r,"signUpPassword",ww);case"emailLink":return Cw(t,{idToken:n,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Qa(s,t){return Fl(s,"POST","/v1/accounts:signInWithIdp",nr(s,t))}const Dw="http://localhost";class Br extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Br(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Qa(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Qa(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qa(t,n)}buildRequest(){const t={requestUri:Dw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ql(n)}return t}}function Nw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ow(s){const t=Tl(Al(s)).link,n=t?Tl(Al(t)).deep_link_id:null,r=Tl(Al(s)).deep_link_id;return(r?Tl(Al(r)).link:null)||r||n||t||s}class Um{constructor(t){const n=Tl(Al(t)),r=n.apiKey??null,l=n.oobCode??null,u=Nw(n.mode??null);pt(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Ow(t);try{return new Um(n)}catch{return null}}}class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(t,n){return Vl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Um.parseLink(n);return pt(r,"argument-error"),Vl._fromEmailAndCode(t,r.code,r.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends Gl{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class zs extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class js extends Gl{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Bs extends Gl{constructor(){super("twitter.com")}static credential(t,n){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function Mw(s,t){return Fl(s,"POST","/v1/accounts:signUp",nr(s,t))}class qr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const u=await $n._fromIdTokenResponse(t,r,l),d=bv(r);return new qr({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=bv(r);return new qr({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Jc extends ns{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new Jc(t,n,r,l)}}function ET(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,u,t,r):u})}async function Vw(s,t,n=!1){const r=await Ml(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return qr._forOperation(s,"link",r)}async function xw(s,t,n=!1){const{auth:r}=s;if(Ln(r.app))return Promise.reject(Ji(r));const l="reauthenticate";try{const u=await Ml(s,ET(r,l,t,s),n);pt(u.idToken,r,"internal-error");const d=km(u.idToken);pt(d,r,"internal-error");const{sub:g}=d;return pt(s.uid===g,r,"user-mismatch"),qr._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),u}}async function TT(s,t,n=!1){if(Ln(s.app))return Promise.reject(Ji(s));const r="signIn",l=await ET(s,r,t),u=await qr._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function kw(s,t){return TT(Gr(s),t)}async function AT(s){const t=Gr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Lw(s,t,n){if(Ln(s.app))return Promise.reject(Ji(s));const r=Gr(s),d=await lm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&AT(s),p}),g=await qr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function Pw(s,t,n){return Ln(s.app)?Promise.reject(Ji(s)):kw(ke(s),oo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AT(s),r})}function Uw(s,t,n,r){return ke(s).onIdTokenChanged(t,n,r)}function zw(s,t,n){return ke(s).beforeAuthStateChanged(t,n)}function jw(s,t,n,r){return ke(s).onAuthStateChanged(t,n,r)}function Bw(s){return ke(s).signOut()}const Zc="__sak";class ST{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qw=1e3,Hw=10;class bT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);aw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Hw):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}bT.type="LOCAL";const Fw=bT;class wT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}wT.type="SESSION";const RT=wT;function Gw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new mh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,u)),p=await Gw(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function zm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class Qw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const _=zm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function Kw(s){bi().location.href=s}function IT(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function Yw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xw(){return navigator?.serviceWorker?.controller||null}function $w(){return IT()?self:null}const CT="firebaseLocalStorageDb",Jw=1,Wc="firebaseLocalStorage",DT="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(s,t){return s.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function Zw(){const s=indexedDB.deleteDatabase(CT);return new Ql(s).toPromise()}function um(){const s=indexedDB.open(CT,Jw);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Wc,{keyPath:DT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Wc)?t(r):(r.close(),await Zw(),t(await um()))})})}async function wv(s,t,n){const r=gh(s,!0).put({[DT]:t,value:n});return new Ql(r).toPromise()}async function Ww(s,t){const n=gh(s,!1).get(t),r=await new Ql(n).toPromise();return r===void 0?null:r.value}function Rv(s,t){const n=gh(s,!0).delete(t);return new Ql(n).toPromise()}const tR=800,eR=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>eR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance($w()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Yw(),!this.activeServiceWorker)return;this.sender=new Qw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await um();return await wv(t,Zc,"1"),await Rv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Ww(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=gh(l,!1).getAll();return new Ql(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const nR=NT;new Hl(3e4,6e4);function iR(s,t){return t?$i(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jm extends Pm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sR(s){return TT(s.auth,new jm(s),s.bypassAuthState)}function rR(s){const{auth:t,user:n}=s;return pt(n,t,"internal-error"),xw(n,new jm(s),s.bypassAuthState)}async function aR(s){const{auth:t,user:n}=s;return pt(n,t,"internal-error"),Vw(n,new jm(s),s.bypassAuthState)}class OT{constructor(t,n,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return rR;default:Zn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oR=new Hl(2e3,1e4);class Ha extends OT{constructor(t,n,r,l,u){super(t,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oR.get())};t()}}Ha.currentPopupAction=null;const lR="pendingRedirect",Uc=new Map;class uR extends OT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const r=await cR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cR(s,t){const n=dR(t),r=fR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function hR(s,t){Uc.set(s._key(),t)}function fR(s){return $i(s._redirectPersistence)}function dR(s){return Pc(lR,s.config.apiKey,s.name)}async function mR(s,t,n=!1){if(Ln(s.app))return Promise.reject(Ji(s));const r=Gr(s),l=iR(r,t),d=await new uR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const gR=600*1e3;class pR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!MT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Si(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iv(t))}saveEventToCache(t){this.cachedEventUids.add(Iv(t)),this.lastProcessedEventTime=Date.now()}}function Iv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function MT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function yR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(s);default:return!1}}async function _R(s,t={}){return ir(s,"GET","/v1/projects",t)}const vR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ER=/^https?/;async function TR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await _R(s);for(const n of t)try{if(AR(n))return}catch{}Zn(s,"unauthorized-domain")}function AR(s){const t=am(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!ER.test(n))return!1;if(vR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const SR=new Hl(3e4,6e4);function Cv(){const s=bi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function bR(s){return new Promise((t,n)=>{function r(){Cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Si(s,"network-request-failed"))},timeout:SR.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)r();else{const l=gw("iframefcb");return bi()[l]=()=>{gapi.load?r():n(Si(s,"network-request-failed"))},pT(`${mw()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw zc=null,t})}let zc=null;function wR(s){return zc=zc||bR(s),zc}const RR=new Hl(5e3,15e3),IR="__/auth/iframe",CR="emulator/auth/iframe",DR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OR(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?xm(t,CR):`https://${s.config.authDomain}/${IR}`,r={apiKey:t.apiKey,appName:s.name,v:ao},l=NR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ql(r).slice(1)}`}async function MR(s){const t=await wR(s),n=bi().gapi;return pt(n,s,"internal-error"),t.open({where:document.body,url:OR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Si(s,"network-request-failed"),g=bi().setTimeout(()=>{u(d)},RR.get());function p(){bi().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{u(d)})}))}const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xR=500,kR=600,LR="_blank",PR="http://localhost";class Dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UR(s,t,n,r=xR,l=kR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...VR,width:r.toString(),height:l.toString(),top:u,left:d},_=We().toLowerCase();n&&(g=uT(_)?LR:n),oT(_)&&(t=t||PR,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[q,Z])=>`${N}${q}=${Z},`,"");if(rw(_)&&g!=="_self")return zR(t||"",g),new Dv(null);const S=window.open(t||"",g,T);pt(S,s,"popup-blocked");try{S.focus()}catch{}return new Dv(S)}function zR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const jR="__/auth/handler",BR="emulator/auth/handler",qR=encodeURIComponent("fac");async function Nv(s,t,n,r,l,u){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ao,eventId:l};if(t instanceof vT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",w1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Gl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await s._getAppCheckToken(),_=p?`#${qR}=${encodeURIComponent(p)}`:"";return`${HR(s)}?${ql(g).slice(1)}${_}`}function HR({config:s}){return s.emulator?xm(s,BR):`https://${s.authDomain}/${jR}`}const Xd="webStorageSupport";class FR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=mR,this._overrideRedirectResult=hR}async _openPopup(t,n,r,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Nv(t,n,r,am(),l);return UR(t,u,zm())}async _openRedirect(t,n,r,l){await this._originValidation(t);const u=await Nv(t,n,r,am(),l);return Kw(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Wi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await MR(t),r=new pR(t);return n.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xd,{type:Xd},l=>{const u=l?.[0]?.[Xd];u!==void 0&&n(!!u),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||lT()||Lm()}}const GR=FR;var Ov="@firebase/auth",Mv="1.12.0";class QR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YR(s){Ja(new jr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(s)},_=new hw(r,l,u,p);return Tw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ja(new jr("auth-internal",t=>{const n=Gr(t.getProvider("auth").getImmediate());return(r=>new QR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(Ov,Mv,KR(s)),Gs(Ov,Mv,"esm2020")}const XR=300,$R=FE("authIdTokenMaxAge")||XR;let Vv=null;const JR=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$R)return;const l=n?.token;Vv!==l&&(Vv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ZR(s=$E()){const t=Mm(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Ew(s,{popupRedirectResolver:GR,persistence:[nR,Fw,RT]}),r=FE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=JR(u.toString());zw(n,d,()=>d(n.currentUser)),Uw(n,g=>d(g))}}const l=qE("auth");return l&&Aw(n,`http://${l}`),n}function WR(){return document.getElementsByTagName("head")?.[0]??document}fw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=Si("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",WR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YR("Browser");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,VT;(function(){var s;function t(w,b){function I(){}I.prototype=b.prototype,w.F=b.prototype,w.prototype=new I,w.prototype.constructor=w,w.D=function(x,O,L){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return b.prototype[O].apply(x,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,b,I){I||(I=0);const x=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)x[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=w.g[0],I=w.g[1],O=w.g[2];let L=w.g[3],C;C=b+(L^I&(O^L))+x[0]+3614090360&4294967295,b=I+(C<<7&4294967295|C>>>25),C=L+(O^b&(I^O))+x[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(I^L&(b^I))+x[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(b^O&(L^b))+x[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(L^I&(O^L))+x[4]+4118548399&4294967295,b=I+(C<<7&4294967295|C>>>25),C=L+(O^b&(I^O))+x[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(I^L&(b^I))+x[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(b^O&(L^b))+x[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(L^I&(O^L))+x[8]+1770035416&4294967295,b=I+(C<<7&4294967295|C>>>25),C=L+(O^b&(I^O))+x[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(I^L&(b^I))+x[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(b^O&(L^b))+x[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(L^I&(O^L))+x[12]+1804603682&4294967295,b=I+(C<<7&4294967295|C>>>25),C=L+(O^b&(I^O))+x[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(I^L&(b^I))+x[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(b^O&(L^b))+x[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(O^L&(I^O))+x[1]+4129170786&4294967295,b=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(b^I))+x[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(L^b))+x[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^b&(O^L))+x[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(I^O))+x[5]+3593408605&4294967295,b=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(b^I))+x[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(L^b))+x[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^b&(O^L))+x[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(I^O))+x[9]+568446438&4294967295,b=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(b^I))+x[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(L^b))+x[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^b&(O^L))+x[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(I^O))+x[13]+2850285829&4294967295,b=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(b^I))+x[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(L^b))+x[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^b&(O^L))+x[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(I^O^L)+x[5]+4294588738&4294967295,b=I+(C<<4&4294967295|C>>>28),C=L+(b^I^O)+x[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^I)+x[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^b)+x[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(I^O^L)+x[1]+2763975236&4294967295,b=I+(C<<4&4294967295|C>>>28),C=L+(b^I^O)+x[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^I)+x[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^b)+x[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(I^O^L)+x[13]+681279174&4294967295,b=I+(C<<4&4294967295|C>>>28),C=L+(b^I^O)+x[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^I)+x[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^b)+x[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(I^O^L)+x[9]+3654602809&4294967295,b=I+(C<<4&4294967295|C>>>28),C=L+(b^I^O)+x[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^I)+x[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^b)+x[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(O^(I|~L))+x[0]+4096336452&4294967295,b=I+(C<<6&4294967295|C>>>26),C=L+(I^(b|~O))+x[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~I))+x[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~b))+x[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=b+(O^(I|~L))+x[12]+1700485571&4294967295,b=I+(C<<6&4294967295|C>>>26),C=L+(I^(b|~O))+x[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~I))+x[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~b))+x[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=b+(O^(I|~L))+x[8]+1873313359&4294967295,b=I+(C<<6&4294967295|C>>>26),C=L+(I^(b|~O))+x[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~I))+x[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~b))+x[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=b+(O^(I|~L))+x[4]+4149444226&4294967295,b=I+(C<<6&4294967295|C>>>26),C=L+(I^(b|~O))+x[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~I))+x[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~b))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+O&4294967295,w.g[3]=w.g[3]+L&4294967295}r.prototype.v=function(w,b){b===void 0&&(b=w.length);const I=b-this.blockSize,x=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=I;)l(this,w,L),L+=this.blockSize;if(typeof w=="string"){for(;L<b;)if(x[O++]=w.charCodeAt(L++),O==this.blockSize){l(this,x),O=0;break}}else for(;L<b;)if(x[O++]=w[L++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=b},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;b=this.o*8;for(var I=w.length-8;I<w.length;++I)w[I]=b&255,b/=256;for(this.v(w),w=Array(16),b=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)w[b++]=this.g[I]>>>x&255;return w};function u(w,b){var I=g;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=b(w)}function d(w,b){this.h=b;const I=[];let x=!0;for(let O=w.length-1;O>=0;O--){const L=w[O]|0;x&&L==b||(I[O]=L,x=!1)}this.g=I}var g={};function p(w){return-128<=w&&w<128?u(w,function(b){return new d([b|0],b<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return J(_(-w));const b=[];let I=1;for(let x=0;w>=I;x++)b[x]=w/I|0,I*=4294967296;return new d(b,0)}function T(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return J(T(w.substring(1),b));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let x=S;for(let L=0;L<w.length;L+=8){var O=Math.min(8,w.length-L);const C=parseInt(w.substring(L,L+O),b);O<8?(O=_(Math.pow(b,O)),x=x.j(O).add(_(C))):(x=x.j(I),x=x.add(_(C)))}return x}var S=p(0),N=p(1),q=p(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let w=0,b=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);w+=(x>=0?x:4294967296+x)*b,b*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(Z(this))return"0";if(W(this))return"-"+J(this).toString(w);const b=_(Math.pow(w,6));var I=this;let x="";for(;;){const O=qt(I,b).g;I=ht(I,O.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(w);if(I=O,Z(I))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function Z(w){if(w.h!=0)return!1;for(let b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function W(w){return w.h==-1}s.l=function(w){return w=ht(this,w),W(w)?-1:Z(w)?0:1};function J(w){const b=w.g.length,I=[];for(let x=0;x<b;x++)I[x]=~w.g[x];return new d(I,~w.h).add(N)}s.abs=function(){return W(this)?J(this):this},s.add=function(w){const b=Math.max(this.g.length,w.g.length),I=[];let x=0;for(let O=0;O<=b;O++){let L=x+(this.i(O)&65535)+(w.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(w.i(O)>>>16);x=C>>>16,L&=65535,C&=65535,I[O]=C<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(w,b){return w.add(J(b))}s.j=function(w){if(Z(this)||Z(w))return S;if(W(this))return W(w)?J(this).j(J(w)):J(J(this).j(w));if(W(w))return J(this.j(J(w)));if(this.l(q)<0&&w.l(q)<0)return _(this.m()*w.m());const b=this.g.length+w.g.length,I=[];for(var x=0;x<2*b;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<w.g.length;O++){const L=this.i(x)>>>16,C=this.i(x)&65535,se=w.i(O)>>>16,De=w.i(O)&65535;I[2*x+2*O]+=C*De,Et(I,2*x+2*O),I[2*x+2*O+1]+=L*De,Et(I,2*x+2*O+1),I[2*x+2*O+1]+=C*se,Et(I,2*x+2*O+1),I[2*x+2*O+2]+=L*se,Et(I,2*x+2*O+2)}for(w=0;w<b;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=b;w<2*b;w++)I[w]=0;return new d(I,0)};function Et(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function mt(w,b){this.g=w,this.h=b}function qt(w,b){if(Z(b))throw Error("division by zero");if(Z(w))return new mt(S,S);if(W(w))return b=qt(J(w),b),new mt(J(b.g),J(b.h));if(W(b))return b=qt(w,J(b)),new mt(J(b.g),b.h);if(w.g.length>30){if(W(w)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,x=b;x.l(w)<=0;)I=Zt(I),x=Zt(x);var O=rt(I,1),L=rt(x,1);for(x=rt(x,2),I=rt(I,2);!Z(x);){var C=L.add(x);C.l(w)<=0&&(O=O.add(I),L=C),x=rt(x,1),I=rt(I,1)}return b=ht(w,O.j(b)),new mt(O,b)}for(O=S;w.l(b)>=0;){for(I=Math.max(1,Math.floor(w.m()/b.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=_(I),C=L.j(b);W(C)||C.l(w)>0;)I-=x,L=_(I),C=L.j(b);Z(L)&&(L=N),O=O.add(L),w=ht(w,C)}return new mt(O,w)}s.B=function(w){return qt(this,w).h},s.and=function(w){const b=Math.max(this.g.length,w.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)&w.i(x);return new d(I,this.h&w.h)},s.or=function(w){const b=Math.max(this.g.length,w.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)|w.i(x);return new d(I,this.h|w.h)},s.xor=function(w){const b=Math.max(this.g.length,w.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)^w.i(x);return new d(I,this.h^w.h)};function Zt(w){const b=w.g.length+1,I=[];for(let x=0;x<b;x++)I[x]=w.i(x)<<1|w.i(x-1)>>>31;return new d(I,w.h)}function rt(w,b){const I=b>>5;b%=32;const x=w.g.length-I,O=[];for(let L=0;L<x;L++)O[L]=b>0?w.i(L+I)>>>b|w.i(L+I+1)<<32-b:w.i(L+I);return new d(O,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Qs=d}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xT,Sl,kT,jc,cm,LT,PT,UT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=p,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,B){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[P].apply(A,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const B=P.length||0;c.length=v+B;for(let tt=0;tt<B;tt++)c[v+tt]=P[tt]}else c.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function ht(){var c=w;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const A=mt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var mt=new W(()=>new qt,c=>c.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,rt=!1,w=new Et,b=()=>{const c=Promise.resolve(void 0);Zt=()=>{c.then(I)}};function I(){for(var c;c=ht();){try{c.h.call(c.g)}catch(v){J(v)}var m=mt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}rt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function se(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(se,O),se.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(c,m,v,A,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Ft(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function at(c){this.src=c,this.g={},this.h=0}at.prototype.add=function(c,m,v,A,P){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const tt=wt(c,m,A,P);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!A,P),m.fa=v,c.push(m)),m};function _t(c,m){const v=m.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(A,P,1),B&&(ft(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function wt(c,m,v,A){for(let P=0;P<c.length;++P){const B=c[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return P}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(c,m,v,A,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(c,m[B],v,A,P);return null}return v=yo(v),c&&c[De]?c.J(m,v,g(A)?!!A.capture:!1,P):ar(c,m,v,!1,A,P)}function ar(c,m,v,A,P,B){if(!m)throw Error("Invalid event type");const tt=g(P)?!!P.capture:!!P;let St=or(c);if(St||(c[kt]=St=new at(c)),v=St.add(m,v,A,tt,B),v.proxy)return v;if(A=Xr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(P=tt),P===void 0&&(P=!1),c.addEventListener(m.toString(),A,P);else if(c.attachEvent)c.attachEvent(ti(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xr(){function c(v){return m.call(c.src,c.listener,v)}const m=go;return c}function $r(c,m,v,A,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)$r(c,m[B],v,A,P);else A=g(A)?!!A.capture:!!A,v=yo(v),c&&c[De]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=wt(m,v,A,P),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=or(c))&&(m=c.g[m.toString()],c=-1,m&&(c=wt(m,v,A,P)),(v=c>-1?m[c]:null)&&Jr(v))}function Jr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[De])_t(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ti(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=or(m))?(_t(v,c),v.h==0&&(v.src=null,m[kt]=null)):ft(c)}}}function ti(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function go(c,m){if(c.da)c=!0;else{m=new se(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&Jr(c),c=v.call(A,m)}return c}function or(c){return c=c[kt],c instanceof at?c:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(c){return typeof c=="function"?c:(c[po]||(c[po]=function(m){return c.handleEvent(m)}),c[po])}function pe(){x.call(this),this.i=new at(this),this.M=this,this.G=null}S(pe,x),pe.prototype[De]=!0,pe.prototype.removeEventListener=function(c,m,v,A){$r(this,c,m,v,A)};function Oe(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var P=m;m=new O(A,c),it(m,P)}P=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],P=ss(B,A,!0,m)&&P;if(B=m.g=c,P=ss(B,A,!0,m)&&P,P=ss(B,A,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],P=ss(B,A,!1,m)&&P}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete c.g[m],c.h--}}this.G=null},pe.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},pe.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function ss(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,fe=tt.ha||tt.src;tt.fa&&_t(c.i,tt),P=St.call(fe,A)!==!1&&P}}return P&&!A.defaultPrevented}function Uh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function tu(c){c.g=Uh(()=>{c.g=null,c.i&&(c.i=!1,tu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(c){x.call(this),this.h=c,this.g={}}S(lr,x);var _o=[];function vo(c){Pt(c.g,function(m,v){this.g.hasOwnProperty(v)&&Jr(m)},c),c.g={}}lr.prototype.N=function(){lr.Z.N.call(this),vo(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,zh=d.JSON.parse,eu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function nu(){}function iu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}S(je,O);function Sn(){O.call(this,"c")}S(Sn,O);var he={},su=null;function Zr(){return su=su||new pe}he.Ia="serverreachability";function ru(c){O.call(this,he.Ia,c)}S(ru,O);function ei(c){const m=Zr();Oe(m,new ru(m))}he.STAT_EVENT="statevent";function ur(c,m){O.call(this,he.STAT_EVENT,c),this.stat=m}S(ur,O);function ye(c){const m=Zr();Oe(m,new ur(m,c))}he.Ja="timingevent";function ni(c,m){O.call(this,he.Ja,c),this.size=m}S(ni,O);function ii(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function jh(c,m,v,A,P,B){c.info(function(){if(c.g)if(B){var tt="",St=B.split("&");for(let jt=0;jt<St.length;jt++){var fe=St[jt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const In=ae.split("_");tt=In.length>=2&&In[1]=="type"?tt+(ae+"="+fe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function au(c,m,v,A,P,B,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+tt})}function si(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(c,v)+(A?" "+A:"")})}function cr(c,m){c.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Bh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return rs(B)}catch{return m}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function fr(){}S(fr,nu),fr.prototype.g=function(){return new XMLHttpRequest},To=new fr;function Ni(c){return encodeURIComponent(String(c))}function ou(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function jn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Le={};function ri(c,m,v){c.M=1,c.A=dr(Ee(m)),c.u=v,c.R=!0,Wr(c,null)}function Wr(c,m){c.F=Date.now(),ai(c),c.B=Ee(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ia(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Bn,c.g=Au(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(_o[0]=P.toString()),P=_o);for(let B=0;B<P.length;B++){const tt=re(v,P[B],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ei(),jh(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Fn(c)==3?m.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Fn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||fe==7||(fe==8||jt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var B=A;break e}}B=null}if(c=B)si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,ye(12),dn(this),bn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=uu(this,v),ae==Le){St==4&&(this.m=4,ye(14),c=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),si(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else si(this.i,this.l,ae,null),li(this,ae);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ye(16),c=!1),this.o=this.o&&c,!c)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(tt),tt.P=!0,ye(11))}}else si(this.i,this.l,v,null),li(this,v);St==4&&dn(this),this.o&&!this.K&&(St==4?_u(this.j,this):(this.o=!1,ai(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),dn(this),bn(this)}}}catch{}};function qh(c){if(!lu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const A=m.length,P=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(P&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function uu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Le:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?Le:(m=m.slice(A,A+v),c.C=A+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(c){c.T=Date.now()+c.H,ta(c,c.H)}function ta(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(_(c.aa,c),m)}function oi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cr(this.i,this.B),this.M!=2&&(ei(),ye(17)),dn(this),this.m=2,bn(this)):ta(this,this.T-c)};function bn(c){c.j.I==0||c.K||_u(c.j,c)}function dn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,vo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function li(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)la(v),ds(v);else break t;Er(v),ye(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((c.L||v.g==c)&&la(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const In=jt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const yi=jt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=jt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const Tr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var B=A.h;B.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(A.G){const ua=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(A.wa=ua,Gt(A.J,A.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=Tu(A,A.L?A.ba:null,A.W),tt.L){wo(A.h,tt);var St=tt,fe=A.O;fe&&(St.H=fe),St.D&&(oi(St),ai(St)),A.g=tt}else pu(A);v.i.length>0&&gi(v)}else jt[0]!="stop"&&jt[0]!="close"||pi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?pi(v,7):xo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ei(4)}catch{}}var ve=class{constructor(c,m){this.g=c,this.map=m}};function Ao(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function bo(c,m){c.g?c.g.add(m):c.h=m}function wo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ro(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return q(c.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,B=null;A>=0?(P=c[v].substring(0,A),B=c[v].substring(A+1)):P=c[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,as(this,c.u),this.h=c.h,Io(this,mu(c.i)),this.m=c.m):c&&(m=String(c).match(cu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),as(this,m[4]),this.h=hi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(mr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(mr(m,na,!0),"@"),c.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(mr(v,v.charAt(0)=="/"?Co:hu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",mr(v,fu)),c.join("")},mn.prototype.resolve=function(c){const m=Ee(this);let v=!!c.j;v?Pe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)as(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let tt=0;tt<P.length;){const St=P[tt++];St=="."?A&&tt==P.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&tt==P.length&&B.push("")):(B.push(St),A=!0)}A=B.join("/")}else A=P}return v?m.h=A:v=c.i.toString()!=="",v?Io(m,mu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ee(c){return new mn(c)}function Pe(c,m,v){c.j=v?hi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Io(c,m,v){m instanceof ls?(c.i=m,sa(c.i,c.l)):(v||(m=mr(m,os)),c.i=new ls(m,c.l))}function Gt(c,m,v){c.i.set(m,v)}function dr(c){return Gt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var na=/[#\/\?@]/g,hu=/[#\?:]/g,Co=/[#\?]/g,os=/[#\?@]/g,fu=/#/g;function ls(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ea(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ls.prototype,s.add=function(c,m){rn(this),this.i=null,c=us(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function du(c,m){rn(c),m=us(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Do(c,m){return rn(c),m=us(c,m),c.g.has(m)}s.forEach=function(c,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(m,P,A,this)},this)},this)};function No(c,m){rn(c);let v=[];if(typeof m=="string")Do(c,m)&&(v=v.concat(c.g.get(us(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return rn(this),this.i=null,c=us(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=No(this,c),c.length>0?String(c[0]):m):m};function ia(c,m,v){du(c,m),v.length>0&&(c.i=null,c.g.set(us(c,m),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Ni(v);v=No(this,v);for(let B=0;B<v.length;B++){let tt=P;v[B]!==""&&(tt+="="+Ni(v[B])),c.push(tt)}}return this.i=c.join("&")};function mu(c){const m=new ls;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function us(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sa(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(du(this,A),ia(this,P,v))},c)),c.j=m}function qn(c,m){const v=new zn;if(d.Image){const A=new Image;A.onload=T(wn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(wn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(wn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(wn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Oo(c,m){const v=new zn,A=new AbortController,P=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(P),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),wn(v,"TestPingServer: error",!1,m)})}function wn(c,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function cs(){this.g=new eu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(fi,nu),fi.prototype.g=function(){return new gr(this.i,this.h)};function gr(c,m){pe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gr,pe),s=gr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Hn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?hs(this):Hn(this),this.readyState==3&&ra(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,hs(this))},s.Na=function(c){this.g&&(this.response=c,hs(this))},s.ga=function(){this.g&&hs(this)};function hs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let m="";return Pt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function pr(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Rn(v),typeof c=="string"?v!=null&&Ni(v):Gt(c,m,v))}function Yt(c){pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,pe);var di=/^https?$/i,Mo=["POST","PUT"];s=Yt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){yr(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){yr(this,B)}};function yr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Vo(c),Oi(c)}function Vo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},s.Xa=function(){_r(this)};function _r(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let tt=String(c.D).match(cu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!di.test(tt?tt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var P=Fn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Vo(c)}}finally{Oi(c)}}}}function Oi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),zh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(c){const m={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=ou(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Ft(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function fs(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new cs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){ye(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),gi(this)};function xo(c){if(aa(c),c.I==3){var m=c.V++,v=Ee(c.J);if(Gt(v,"SID",c.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),vr(c,v),m=new jn(c,c.j,m),m.M=2,m.A=dr(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Eu(c)}function ds(c){c.g&&(Lo(c),c.g.cancel(),c.g=null)}function aa(c){ds(c),c.v&&(d.clearTimeout(c.v),c.v=null),la(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function gi(c){if(!So(c.h)&&!c.m){c.m=!0;var m=c.Ea;Zt||b(),rt||(Zt(),rt=!0),w.add(m,c),c.D=0}}function oa(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(_(c.Ea,c,m),vu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new jn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=V(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,P,m),v=Ee(this.J),Gt(v,"RID",c),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),vr(this,v),B&&(this.R?m="headers="+Ni(Rn(B))+"&"+m:this.u&&pr(v,this.u,B)),bo(this.h,P),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),P.U=!0,ri(P,v,null)):ri(P,v,m),this.I=2}}else this.I==3&&(c?ko(this,c):this.i.length==0||So(this.h)||ko(this))};function ko(c,m){var v;m?v=m.l:v=c.V++;const A=Ee(c.J);Gt(A,"SID",c.M),Gt(A,"RID",v),Gt(A,"AID",c.K),vr(c,A),c.u&&c.o&&pr(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=gu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bo(c.h,v),ri(v,A,m)}function vr(c,m){c.H&&Pt(c.H,function(v,A){Gt(m,A,v)}),c.l&&Pt({},function(v,A){Gt(m,A,v)})}function gu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?_(c.l.Ka,c.l,c):null;t:{var P=c.i;let St=-1;for(;;){const fe=["count="+v];St==-1?v>0?(St=P[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let jt=!0;for(let ae=0;ae<v;ae++){var B=P[ae].g;const In=P[ae].map;if(B-=St,B<0)St=Math.max(0,P[ae].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[yi,Gn]of tt){let Qn=Gn;g(Gn)&&(Qn=rs(Gn)),fe.push(B+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(In)}}if(jt){tt=fe.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function pu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Zt||b(),rt||(Zt(),rt=!0),w.add(m,c),c.A=0}}function Er(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(_(c.Da,c),vu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ds(this),yu(this))};function Lo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function yu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ee(c.na);Gt(m,"RID","rpc"),Gt(m,"SID",c.M),Gt(m,"AID",c.K),Gt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Gt(m,"TO",c.ia),Gt(m,"TYPE","xmlhttp"),vr(c,m),c.u&&c.o&&pr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=dr(Ee(m)),v.u=null,v.R=!0,Wr(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ds(this),Er(this),ye(19))};function la(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function _u(c,m){var v=null;if(c.g==m){la(c),Lo(c),c.g=null;var A=2}else if(ci(c.h,m))v=m.G,wo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;A=Zr(),Oe(A,new ni(A,v)),gi(c)}else pu(c);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&oa(c,m)||A==2&&Er(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function vu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function pi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),A=c.Ua;const P=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(A,"https"),dr(A),P?qn(A.toString(),v):Oo(A.toString(),v)}else ye(2);c.I=0,c.l&&c.l.pa(m),Eu(c),aa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Eu(c){if(c.I=0,c.ja=[],c.l){const m=Ro(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Tu(c,m,v){var A=v instanceof mn?Ee(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),as(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new mn(null);A&&Pe(B,A),m&&(B.g=m),P&&as(B,P),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&Gt(A,v,m),Gt(A,"VER",c.ka),vr(c,A),A}function Au(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Yt(new fi({ab:v})):new Yt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ms(){}ms.prototype.g=function(c,m){return new en(c,m)};function en(c,m){pe.call(this),this.g=new fs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Vi(this)}S(en,pe),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){xo(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=rs(c),c=v);m.i.push(new ve(m.Ya++,c)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,en.Z.N.call(this)};function bu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(bu,je);function wu(){Sn.call(this),this.status=1}S(wu,Sn);function Vi(c){this.g=c}S(Vi,Su),Vi.prototype.ra=function(){Oe(this.g,"a")},Vi.prototype.qa=function(c){Oe(this.g,new bu(c))},Vi.prototype.pa=function(c){Oe(this.g,new wu)},Vi.prototype.oa=function(){Oe(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,UT=function(){return new ms},PT=function(){return Zr()},LT=he,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,jc=hr,Eo.COMPLETE="complete",kT=Eo,iu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Sl=iu,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,xT=Yt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Lv="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let lo="12.7.0";const Hr=new Nm("@firebase/firestore");function za(){return Hr.logLevel}function st(s,...t){if(Hr.logLevel<=Ot.DEBUG){const n=t.map(Bm);Hr.debug(`Firestore (${lo}): ${s}`,...n)}}function ts(s,...t){if(Hr.logLevel<=Ot.ERROR){const n=t.map(Bm);Hr.error(`Firestore (${lo}): ${s}`,...n)}}function Za(s,...t){if(Hr.logLevel<=Ot.WARN){const n=t.map(Bm);Hr.warn(`Firestore (${lo}): ${s}`,...n)}}function Bm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,zT(s,r,n)}function zT(s,t,n){let r=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function Ht(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||zT(t,l,r)}function At(s,t){return s}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends ns{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class jT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class eI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ks,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ks)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new jT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class iI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new iI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const r=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class qm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=aI(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function Mt(s,t){return s<t?-1:s>t?1:0}function hm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return $d(l)===$d(u)?Mt(l,u):$d(l)?1:-1}return Mt(s.length,t.length)}const oI=55296,lI=57343;function $d(s){const t=s.charCodeAt(0);return t>=oI&&t<=lI}function Wa(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const Uv="__name__";class Ai{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=Ai.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const r=Ai.isNumericId(t),l=Ai.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(n)):hm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class te extends Ai{construct(t,n,r){return new te(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new et(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new te(n)}static emptyPath(){return new te([])}}const uI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ai{construct(t,n,r){return new Ke(t,n,r)}static isValidIdentifier(t){return uI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new Ke([Uv])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new et(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new et(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new et(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new et(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(te.fromString(t))}static fromName(t){return new ut(te.fromString(t).popFirst(5))}static empty(){return new ut(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new te(t.slice()))}}function BT(s,t,n){if(!n)throw new et(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function cI(s,t,n,r){if(t===!0&&r===!0)throw new et(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function zv(s){if(!ut.isDocumentKey(s))throw new et(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function jv(s){if(ut.isDocumentKey(s))throw new et(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function qT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ph(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Xs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new et(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(s);throw new et(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Ie(s,t){const n={typeString:s};return t&&(n.value=t),n}function Kl(s,t){if(!qT(s))throw new et(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new et(Q.INVALID_ARGUMENT,n);return!0}const Bv=-62135596800,qv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*qv);return new ie(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new et(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new et(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Bv)throw new et(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new et(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function hI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(r===1e9?new ie(n+1,0):new ie(n,r));return new $s(l,ut.empty(),t)}function fI(s){return new $s(s.readTime,s.key,xl)}class $s{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new $s(vt.min(),ut.empty(),xl)}static max(){return new $s(vt.max(),ut.empty(),xl)}}function dI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(s.documentKey,t.documentKey),n!==0?n:Mt(s.largestBatchId,t.largestBatchId))}const mI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uo(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==mI)throw s;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,r)=>{n(t)}))}static reject(t){return new $(((n,r)=>{r(t)}))}static waitFor(t){return new $(((n,r)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(p=>r(p)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next((l=>l?$.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new $(((r,l)=>{const u=t.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;n(t[_]).next((T=>{d[_]=T,++g,g===u&&r(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new $(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function pI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const Hm=-1;function _h(s){return s==null}function th(s){return s===0&&1/s==-1/0}function yI(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const HT="";function _I(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Hv(t)),t=vI(s.get(n),t);return Hv(t)}function vI(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case HT:n+="";break;default:n+=u}}return n}function Hv(s){return s+HT+""}function Fv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function sr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function FT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Qe(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(t){return new Gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class Gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let n=new xe(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new GT("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const n=EI.exec(s);if(Ht(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const QT="server_timestamp",KT="__type__",YT="__previous_value__",XT="__local_write_time__";function vh(s){return(s?.mapValue?.fields||{})[KT]?.stringValue===QT}function Eh(s){const t=s.mapValue.fields[YT];return vh(t)?Eh(t):t}function kl(s){const t=Js(s.mapValue.fields[XT].timestampValue);return new ie(t.seconds,t.nanos)}class TI{constructor(t,n,r,l,u,d,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const eh="(default)";class Ll{constructor(t,n){this.projectId=t,this.database=n||eh}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}const $T="__type__",AI="__max__",Mc={mapValue:{}},JT="__vector__",nh="value";function Ws(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vh(s)?4:bI(s)?9007199254740991:SI(s)?10:11:yt(28295,{value:s})}function Di(s,t){if(s===t)return!0;const n=Ws(s);if(n!==Ws(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return kl(s).isEqual(kl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Js(l.timestampValue),g=Js(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return Zs(l.bytesValue).isEqual(Zs(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ge(l.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ge(l.integerValue)===ge(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ge(l.doubleValue),g=ge(u.doubleValue);return d===g?th(d)===th(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Fv(d)!==Fv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Di(d[p],g[p])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Pl(s,t){return(s.values||[]).find((n=>Di(n,t)))!==void 0}function to(s,t){if(s===t)return 0;const n=Ws(s),r=Ws(t);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ge(u.integerValue||u.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return Qv(s.timestampValue,t.timestampValue);case 4:return Qv(kl(s),kl(t));case 5:return hm(s.stringValue,t.stringValue);case 6:return(function(u,d){const g=Zs(u),p=Zs(d);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Mt(g[_],p[_]);if(T!==0)return T}return Mt(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Mt(ge(u.latitude),ge(d.latitude));return g!==0?g:Mt(ge(u.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Kv(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},p=d.fields||{},_=g[nh]?.arrayValue,T=p[nh]?.arrayValue,S=Mt(_?.values?.length||0,T?.values?.length||0);return S!==0?S:Kv(_,T)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Mc.mapValue&&d===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const N=hm(p[S],T[S]);if(N!==0)return N;const q=to(g[p[S]],_[T[S]]);if(q!==0)return q}return Mt(p.length,T.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Qv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Mt(s,t);const n=Js(s),r=Js(t),l=Mt(n.seconds,r.seconds);return l!==0?l:Mt(n.nanos,r.nanos)}function Kv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=to(n[l],r[l]);if(u)return u}return Mt(n.length,r.length)}function eo(s){return fm(s)}function fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Zs(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ut.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=fm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${fm(n.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Bc(s){switch(Ws(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Eh(s);return t?16+Bc(t):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Bc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return sr(r.fields,((u,d)=>{l+=u.length+Bc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function ih(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function dm(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function Yv(s){return!!s&&"nullValue"in s}function Xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function SI(s){return(s?.mapValue?.fields||{})[$T]?.stringValue===JT}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return sr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Cl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cl(s.arrayValue.values[n]);return t}return{...s}}function bI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===AI}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(n)}setAll(t){let n=Ke.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){sr(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new fn(Cl(this.value))}}function ZT(s){const t=[];return sr(s.fields,((n,r)=>{const l=new Ke([n]);if(qc(r)){const u=ZT(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new An(t)}class Ze{constructor(t,n,r,l,u,d,g){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),fn.empty(),0)}static newFoundDocument(t,n,r,l){return new Ze(t,1,n,vt.min(),r,l,0)}static newNoDocument(t,n){return new Ze(t,2,n,vt.min(),vt.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,vt.min(),vt.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class no{constructor(t,n){this.position=t,this.inclusive=n}}function $v(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),n.key):r=to(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Di(s.position[n],t.position[n]))return!1;return!0}class Ul{constructor(t,n="asc"){this.field=t,this.dir=n}}function wI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class WT{}class Re extends WT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new II(t,n,r):n==="array-contains"?new NI(t,r):n==="in"?new OI(t,r):n==="not-in"?new MI(t,r):n==="array-contains-any"?new VI(t,r):new Re(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new CI(t,r):new DI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(to(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends WT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Wn(t,n)}matches(t){return t0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t0(s){return s.op==="and"}function e0(s){return RI(s)&&t0(s)}function RI(s){for(const t of s.filters)if(t instanceof Wn)return!1;return!0}function mm(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(e0(s))return s.filters.map((t=>mm(t))).join(",");{const t=s.filters.map((n=>mm(n))).join(",");return`${s.op}(${t})`}}function n0(s,t){return s instanceof Re?(function(r,l){return l instanceof Re&&r.op===l.op&&r.field.isEqual(l.field)&&Di(r.value,l.value)})(s,t):s instanceof Wn?(function(r,l){return l instanceof Wn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&n0(d,l.filters[g])),!0):!1})(s,t):void yt(19439)}function i0(s){return s instanceof Re?(function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`})(s):s instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(i0).join(" ,")+"}"})(s):"Filter"}class II extends Re{constructor(t,n,r){super(t,n,r),this.key=ut.fromName(r.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class CI extends Re{constructor(t,n){super(t,"in",n),this.keys=s0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class DI extends Re{constructor(t,n){super(t,"not-in",n),this.keys=s0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function s0(s,t){return(t.arrayValue?.values||[]).map((n=>ut.fromName(n.referenceValue)))}class NI extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fm(n)&&Pl(n.arrayValue,this.value)}}class OI extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class MI extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class VI extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Pl(this.value.arrayValue,r)))}}class xI{constructor(t,n=null,r=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function Zv(s,t=null,n=[],r=[],l=null,u=null,d=null){return new xI(s,t,n,r,l,u,d)}function Gm(s){const t=At(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>mm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),_h(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>eo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>eo(r))).join(",")),t.Te=n}return t.Te}function Qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!wI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!n0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Jv(s.startAt,t.startAt)&&Jv(s.endAt,t.endAt)}function gm(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Qr{constructor(t,n=null,r=[],l=[],u=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kI(s,t,n,r,l,u,d,g){return new Qr(s,t,n,r,l,u,d,g)}function r0(s){return new Qr(s)}function Wv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Km(s){return s.collectionGroup!==null}function Ka(s){const t=At(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Ke.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ul(u,r))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Ul(Ke.keyField(),r))}return t.Ie}function wi(s){const t=At(s);return t.Ee||(t.Ee=LI(t,Ka(s))),t.Ee}function LI(s,t){if(s.limitType==="F")return Zv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ul(l.field,u)}));const n=s.endAt?new no(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new no(s.startAt.position,s.startAt.inclusive):null;return Zv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function pm(s,t){const n=s.filters.concat([t]);return new Qr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function sh(s,t,n){return new Qr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Th(s,t){return Qm(wi(s),wi(t))&&s.limitType===t.limitType}function a0(s){return`${Gm(wi(s))}|lt:${s.limitType}`}function ja(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>i0(l))).join(", ")}]`),_h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>eo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>eo(l))).join(",")),`Target(${r})`})(wi(s))}; limitType=${s.limitType})`}function Ah(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ut.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Ka(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,p){const _=$v(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,Ka(r),l)||r.endAt&&!(function(d,g,p){const _=$v(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,Ka(r),l))})(s,t)}function PI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function o0(s){return(t,n)=>{let r=!1;for(const l of Ka(s)){const u=UI(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function UI(s,t,n){const r=s.field.isKeyField()?ut.comparator(t.key,n.key):(function(u,d,g){const p=d.data.field(u),_=g.data.field(u);return p!==null&&_!==null?to(p,_):yt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class Kr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}const zI=new le(ut.comparator);function es(){return zI}const l0=new le(ut.comparator);function bl(...s){let t=l0;for(const n of s)t=t.insert(n.key,n);return t}function u0(s){let t=l0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Ur(){return Dl()}function c0(){return Dl()}function Dl(){return new Kr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const jI=new le(ut.comparator),BI=new xe(ut.comparator);function Vt(...s){let t=BI;for(const n of s)t=t.add(n);return t}const qI=new xe(Mt);function HI(){return qI}function Ym(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function h0(s){return{integerValue:""+s}}function FI(s,t){return yI(t)?h0(t):Ym(s,t)}class Sh{constructor(){this._=void 0}}function GI(s,t,n){return s instanceof rh?(function(l,u){const d={fields:{[KT]:{stringValue:QT},[XT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&vh(u)&&(u=Eh(u)),u&&(d.fields[YT]=u),{mapValue:d}})(n,t):s instanceof zl?d0(s,t):s instanceof jl?m0(s,t):(function(l,u){const d=f0(l,u),g=tE(d)+tE(l.Ae);return dm(d)&&dm(l.Ae)?h0(g):Ym(l.serializer,g)})(s,t)}function QI(s,t,n){return s instanceof zl?d0(s,t):s instanceof jl?m0(s,t):n}function f0(s,t){return s instanceof ah?(function(r){return dm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class rh extends Sh{}class zl extends Sh{constructor(t){super(),this.elements=t}}function d0(s,t){const n=g0(t);for(const r of s.elements)n.some((l=>Di(l,r)))||n.push(r);return{arrayValue:{values:n}}}class jl extends Sh{constructor(t){super(),this.elements=t}}function m0(s,t){let n=g0(t);for(const r of s.elements)n=n.filter((l=>!Di(l,r)));return{arrayValue:{values:n}}}class ah extends Sh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function tE(s){return ge(s.integerValue||s.doubleValue)}function g0(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function KI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof zl&&l instanceof zl||r instanceof jl&&l instanceof jl?Wa(r.elements,l.elements,Di):r instanceof ah&&l instanceof ah?Di(r.Ae,l.Ae):r instanceof rh&&l instanceof rh})(s.transform,t.transform)}class YI{constructor(t,n){this.version=t,this.transformResults=n}}class Jn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function p0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Xm(s.key,Jn.none()):new Yl(s.key,s.data,Jn.none());{const n=s.data,r=fn.empty();let l=new xe(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new rr(s.key,r,new An(l.toArray()),Jn.none())}}function XI(s,t,n){s instanceof Yl?(function(l,u,d){const g=l.value.clone(),p=nE(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,n):s instanceof rr?(function(l,u,d){if(!Hc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=nE(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(y0(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Nl(s,t,n,r){return s instanceof Yl?(function(u,d,g,p){if(!Hc(u.precondition,d))return g;const _=u.value.clone(),T=iE(u.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,n,r):s instanceof rr?(function(u,d,g,p){if(!Hc(u.precondition,d))return g;const _=iE(u.fieldTransforms,p,d),T=d.data;return T.setAll(y0(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,d,g){return Hc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,n)}function $I(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=f0(r.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(r.field,u))}return n||null}function eE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Wa(r,l,((u,d)=>KI(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Yl extends bh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class rr extends bh{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function y0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function nE(s,t,n){const r=new Map;Ht(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,g=t.data.field(u.field);r.set(u.field,QI(d,g,n[l]))}return r}function iE(s,t,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,GI(u,d,t))}return r}class Xm extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JI extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZI{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&XI(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Nl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Nl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=c0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const p=p0(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((n,r)=>eE(n,r)))&&Wa(this.baseMutations,t.baseMutations,((n,r)=>eE(n,r)))}}class $m{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return jI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new $m(t,n,r,l)}}class WI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class t2{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,Lt;function e2(s){switch(s){case Q.OK:return yt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function _0(s){if(s===void 0)return ts("GRPC error has no .code"),Q.UNKNOWN;switch(s){case we.OK:return Q.OK;case we.CANCELLED:return Q.CANCELLED;case we.UNKNOWN:return Q.UNKNOWN;case we.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case we.INTERNAL:return Q.INTERNAL;case we.UNAVAILABLE:return Q.UNAVAILABLE;case we.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case we.NOT_FOUND:return Q.NOT_FOUND;case we.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case we.ABORTED:return Q.ABORTED;case we.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case we.DATA_LOSS:return Q.DATA_LOSS;default:return yt(39323,{code:s})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function n2(){return new TextEncoder}const i2=new Qs([4294967295,4294967295],0);function sE(s){const t=n2().encode(s),n=new VT;return n.update(t),new Uint8Array(n.digest())}function rE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Qs([n,r],0),new Qs([l,u],0)]}class Jm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Qs.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Qs.fromNumber(r)));return l.compare(i2)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sE(t),[r,l]=rE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Jm(u,l,n);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=sE(t),[r,l]=rE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wh(vt.min(),l,new le(Mt),es(),Vt())}}class Xl{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Xl(r,n,Vt(),Vt(),Vt())}}class Fc{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class v0{constructor(t,n){this.targetId=t,this.Ce=n}}class E0{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class aE{constructor(){this.ve=0,this.Fe=oE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),n=Vt(),r=Vt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:u})}})),new Xl(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=oE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s2{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Vc(),this.He=Vc(),this.Ye=new le(Mt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(gm(u))if(r===0){const d=new ut(u.path);this.et(n,d,Ze.newNoDocument(d,vt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=Zs(r).toUint8Array()}catch(p){if(p instanceof GT)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Jm(d,l,u)}catch(p){return Za(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&gm(g.target)){const p=new ut(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ze.newNoDocument(p,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=Vt();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new wh(t,n,this.Ye,this.je,r);return this.je=es(),this.Je=Vc(),this.He=Vc(),this.Ye=new le(Mt),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new aE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(Mt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(Mt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new aE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vc(){return new le(ut.comparator)}function oE(){return new le(ut.comparator)}const r2={asc:"ASCENDING",desc:"DESCENDING"},a2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o2={and:"AND",or:"OR"};class l2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ym(s,t){return s.useProto3Json||_h(t)?t:{value:t}}function oh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function T0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function u2(s,t){return oh(s,t.toTimestamp())}function Ri(s){return Ht(!!s,49232),vt.fromTimestamp((function(n){const r=Js(n);return new ie(r.seconds,r.nanos)})(s))}function Zm(s,t){return _m(s,t).canonicalString()}function _m(s,t){const n=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function A0(s){const t=te.fromString(s);return Ht(I0(t),10190,{key:t.toString()}),t}function vm(s,t){return Zm(s.databaseId,t.path)}function Jd(s,t){const n=A0(t);if(n.get(1)!==s.databaseId.projectId)throw new et(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new et(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ut(b0(n))}function S0(s,t){return Zm(s.databaseId,t)}function c2(s){const t=A0(s);return t.length===4?te.emptyPath():b0(t)}function Em(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function b0(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function lE(s,t,n){return{name:vm(s,t),fields:n.value.mapValue.fields}}function h2(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Q.UNKNOWN:_0(_.code);return new et(T,_.message||"")})(d);n=new E0(r,l,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Jd(s,r.document.name),u=Ri(r.document.updateTime),d=r.document.createTime?Ri(r.document.createTime):vt.min(),g=new fn({mapValue:{fields:r.document.fields}}),p=Ze.newFoundDocument(l,u,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];n=new Fc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Jd(s,r.document),u=r.readTime?Ri(r.readTime):vt.min(),d=Ze.newNoDocument(l,u),g=r.removedTargetIds||[];n=new Fc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Jd(s,r.document),u=r.removedTargetIds||[];n=new Fc([],u,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new t2(l,u),g=r.targetId;n=new v0(g,d)}}return n}function f2(s,t){let n;if(t instanceof Yl)n={update:lE(s,t.key,t.value)};else if(t instanceof Xm)n={delete:vm(s,t.key)};else if(t instanceof rr)n={update:lE(s,t.key,t.data),updateMask:T2(t.fieldMask)};else{if(!(t instanceof JI))return yt(16599,{Vt:t.type});n={verify:vm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:u2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(s,t.precondition)),n}function d2(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Ri(l.updateTime):Ri(u);return d.isEqual(vt.min())&&(d=Ri(u)),new YI(d,l.transformResults||[])})(n,t)))):[]}function m2(s,t){return{documents:[S0(s,t.path)]}}function g2(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S0(s,l);const u=(function(_){if(_.length!==0)return R0(Wn.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:Ba(N.field),direction:_2(N.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=ym(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function p2(s){let t=c2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ht(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const N=w0(S);return N instanceof Wn&&e0(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((N=>(function(Z){return new Ul(qa(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,_h(N)?null:N})(n.limit));let p=null;n.startAt&&(p=(function(S){const N=!!S.before,q=S.values||[];return new no(q,N)})(n.startAt));let _=null;return n.endAt&&(_=(function(S){const N=!S.before,q=S.values||[];return new no(q,N)})(n.endAt)),kI(t,l,d,u,g,"F",p,_)}function y2(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function w0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(n.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return Re.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(n.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Re.create(qa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((r=>w0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(s):yt(30097,{filter:s})}function _2(s){return r2[s]}function v2(s){return a2[s]}function E2(s){return o2[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function qa(s){return Ke.fromServerFormat(s.fieldPath)}function R0(s){return s instanceof Re?(function(n){if(n.op==="=="){if(Xv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:v2(n.op),value:n.value}}})(s):s instanceof Wn?(function(n){const r=n.getFilters().map((l=>R0(l)));return r.length===1?r[0]:{compositeFilter:{op:E2(n.op),filters:r}}})(s):yt(54877,{filter:s})}function T2(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function I0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class qs{constructor(t,n,r,l,u=vt.min(),d=vt.min(),g=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class A2{constructor(t){this.yt=t}}function S2(s){const t=p2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sh(t,t.limit,"L"):t}class b2{constructor(){this.Cn=new w2}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve($s.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve($s.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class w2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new xe(te.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(te.comparator)).toArray()}}const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(C0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const cE="LruGarbageCollector",R2=1048576;function hE([s,t],[n,r]){const l=Mt(s,n);return l===0?Mt(t,r):l}class I2{constructor(t){this.Ir=t,this.buffer=new xe(hE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(cE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?st(cE,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Vr(3e5)}))}}class D2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(yh.ce);const r=new I2(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(uE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,u,d,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(_=Date.now(),za()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function N2(s,t){return new D2(s,t)}class O2{constructor(){this.changes=new Kr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class M2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class V2{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Nl(r.mutation,l,An.empty(),ie.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Vt()){const l=Ur();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let d=bl();return u.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=Ur();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Vt())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,r,l){let u=es();const d=Dl(),g=(function(){return Dl()})();return n.forEach(((p,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof rr)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Nl(T.mutation,_,T.mutation.getFieldMask(),ie.now())):d.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((_,T)=>d.set(_,T))),n.forEach(((_,T)=>g.set(_,new M2(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,n){const r=Dl();let l=new le(((d,g)=>d-g)),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=n.get(p);if(_===null)return;let T=r.get(p)||An.empty();T=g.applyToLocalView(_,T),r.set(p,T);const S=(l.get(g.batchId)||Vt()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,S=c0();T.forEach((N=>{if(!u.has(N)){const q=p0(n.get(N),r.get(N));q!==null&&S.set(N,q),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Km(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):$.resolve(Ur());let g=xl,p=u;return d.next((_=>$.forEach(_,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,p,_,Vt()))).next((T=>({batchId:g,changes:u0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next((r=>{let l=bl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,u).next((g=>$.forEach(g,(p=>{const _=(function(S,N){return new Qr(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((d=>{u.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let g=bl();return d.forEach(((p,_)=>{const T=u.get(p);T!==void 0&&Nl(T.mutation,_,An.empty(),ie.now()),Ah(n,_)&&(g=g.insert(p,_))})),g}))}}class x2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:S2(l.bundledQuery),readTime:Ri(l.readTime)}})(n)),$.resolve()}}class k2{constructor(){this.overlays=new le(ut.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ur();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const l=Ur(),u=n.length+1,d=new ut(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new le(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let T=u.get(_.largestBatchId);T===null&&(T=Ur(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Ur(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return $.resolve(g)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new WI(n,r));let u=this.qr.get(n);u===void 0&&(u=Vt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class L2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class Wm{constructor(){this.Qr=new xe(ze.$r),this.Ur=new xe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ze(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new ut(new te([])),r=new ze(n,t),l=new ze(n,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ut(new te([])),r=new ze(n,t),l=new ze(n,t+1);let u=Vt();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new ze(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ut.comparator(t.key,n.key)||Mt(t.Yr,n.Yr)}static Kr(t,n){return Mt(t.Yr,n.Yr)||ut.comparator(t.key,n.key)}}class P2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ze.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ZI(u,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new ze(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ze(n,0),l=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new xe(Mt);return n.forEach((l=>{const u=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;ut.isDocumentKey(u)||(u=u.child(""));const d=new ze(new ut(u),0);let g=new xe(Mt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(l=>{const u=new ze(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new ze(n,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class U2{constructor(t){this.ri=t,this.docs=(function(){return new le(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let r=es();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Ze.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=es();const d=n.path,g=new ut(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||dI(fI(T),r)<=0||(l.has(T.key)||Ah(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,r,l){yt(9500)}ii(t,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new z2(this)}getSize(t){return $.resolve(this.size)}}class z2 extends O2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class j2{constructor(t){this.persistence=t,this.si=new Kr((n=>Gm(n)),Qm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new io(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}class D0{constructor(t,n){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new L2,this.referenceDelegate=t(this),this.Pi=new j2(this),this.indexManager=new b2,this.remoteDocumentCache=(function(l){return new U2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new A2(n),this.Ii=new x2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new k2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new P2(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){st("MemoryPersistence","Starting transaction:",t);const l=new B2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class B2 extends gI{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ri=new Wm,this.Vi=null}static mi(t){return new tg(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ut.fromPath(r);return this.gi(t,l).next((u=>{u||n.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class lh{constructor(t,n){this.persistence=t,this.pi=new Kr((r=>_I(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=N2(this,n)}static mi(t,n){return new lh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((g=>{g||(r++,u.removeEntry(d,vt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Bc(t.data.value)),n}br(t,n,r){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class eg{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=Vt(),l=Vt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new eg(t,n.fromCache,r,l)}}class q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class H2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v1()?8:pI(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new q2;return this.Ss(t,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,d,g.size)}))})).next((()=>u.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(za()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(za()<=Ot.DEBUG&&st("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(za()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(n))):$.resolve())}ys(t,n){if(Wv(n))return $.resolve(null);let r=wi(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=sh(n,null,"F"),r=wi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=Vt(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((p=>{const _=this.Ds(n,g);return this.Cs(n,_,d,p.readTime)?this.ys(t,sh(n,null,"F")):this.vs(t,_,n,p)}))))})))))}ws(t,n,r,l){return Wv(n)||l.isEqual(vt.min())?$.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?$.resolve(null):(za()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(n)),this.vs(t,d,n,hI(l,xl)).next((g=>g)))}))}Ds(t,n){let r=new xe(o0(t));return n.forEach(((l,u)=>{Ah(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,r){return za()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ps.getDocumentsMatchingQuery(t,n,$s.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const ng="LocalStore",F2=3e8;class G2{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new le(Mt),this.xs=new Kr((u=>Gm(u)),Qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new V2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Q2(s,t,n,r){return new G2(s,t,n,r)}async function N0(s,t){const n=At(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let p=Vt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function K2(s,t){const n=At(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const S=_.batch,N=S.keys();let q=$.resolve();return N.forEach((Z=>{q=q.next((()=>T.getEntry(p,Z))).next((W=>{const J=_.docVersions.get(Z);Ht(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Vt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function O0(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Y2(s,t){const n=At(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let q=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),l=l.insert(S,q),(function(W,J,ht){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=F2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(N,q,T)&&g.push(n.Pi.updateTargetData(u,q))}));let p=es(),_=Vt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(X2(u,d,t.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!r.isEqual(vt.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return $.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function X2(s,t,n){let r=Vt(),l=Vt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=es();return n.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):st(ng,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function $2(s,t){const n=At(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function J2(s,t){const n=At(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new qs(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Tm(s,t,n){const r=At(s),l=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;st(ng,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function fE(s,t,n){const r=At(s);let l=vt.min(),u=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const S=At(p),N=S.xs.get(T);return N!==void 0?$.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,T)})(r,d,wi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,n?l:vt.min(),n?u:Vt()))).next((g=>(Z2(r,PI(t),g),{documents:g,Qs:u})))))}function Z2(s,t,n){let r=s.Os.get(t)||vt.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class dE{constructor(){this.activeTargetIds=HI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class W2{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class tC{Oo(t){}shutdown(){}}const mE="ConnectivityMonitor";class gE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(mE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(mE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function Am(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Zd="RestConnection",eC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,u){const d=Am(),g=this.zo(t,n.toUriEncodedString());st(Zd,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:_}=new URL(g),T=ro(_);return this.Jo(t,g,p,r,T).then((S=>(st(Zd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Za(Zd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(t,n,r,l,u,d){return this.Go(t,n,r,l,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const r=eC[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class iC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class sC extends nC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,u){const d=Am();return new Promise(((g,p)=>{const _=new xT;_.setWithCredentials(!0),_.listenOnce(kT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const S=_.getResponseJson();st($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case jc.TIMEOUT:st($e,`RPC '${t}' ${d} timed out`),p(new et(Q.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const N=_.getStatus();if(st($e,`RPC '${t}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const W=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Et)>=0?Et:Q.UNKNOWN})(Z.status);p(new et(W,Z.message))}else p(new et(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new et(Q.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);st($e,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,r,15)}))}T_(t,n,r){const l=Am(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=UT(),g=PT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const T=u.join("");st($e,`Creating RPC '${t}' stream ${l}: ${T}`,p);const S=d.createWebChannel(T,p);this.I_(S);let N=!1,q=!1;const Z=new iC({Yo:J=>{q?st($e,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(N||(st($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),N=!0),st($e,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),W=(J,ht,Et)=>{J.listen(ht,(mt=>{try{Et(mt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return W(S,Sl.EventType.OPEN,(()=>{q||(st($e,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),W(S,Sl.EventType.CLOSE,(()=>{q||(q=!0,st($e,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),W(S,Sl.EventType.ERROR,(J=>{q||(q=!0,Za($e,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new et(Q.UNAVAILABLE,"The operation could not be completed")))})),W(S,Sl.EventType.MESSAGE,(J=>{if(!q){const ht=J.data[0];Ht(!!ht,16349);const Et=ht,mt=Et?.error||Et[0]?.error;if(mt){st($e,`RPC '${t}' stream ${l} received error:`,mt);const qt=mt.status;let Zt=(function(b){const I=we[b];if(I!==void 0)return _0(I)})(qt),rt=mt.message;Zt===void 0&&(Zt=Q.INTERNAL,rt="Unknown error status: "+qt+" with message "+mt.message),q=!0,Z.a_(new et(Zt,rt)),S.close()}else st($e,`RPC '${t}' stream ${l} received:`,ht),Z.u_(ht)}})),W(g,LT.STAT_EVENT,(J=>{J.stat===cm.PROXY?st($e,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===cm.NOPROXY&&st($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Wd(){return typeof document<"u"?document:null}function Rh(s){return new l2(s,!0)}class M0{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pE="PersistentStream";class V0{constructor(t,n,r,l,u,d,g,p){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new et(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(pE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(st(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rC extends V0{constructor(t,n,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=h2(this.serializer,t),r=(function(u){if(!("targetChange"in u))return vt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ri(d.readTime):vt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Em(this.serializer),n.addTarget=(function(u,d){let g;const p=d.target;if(g=gm(p)?{documents:m2(u,p)}:{query:g2(u,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=T0(u,d.resumeToken);const _=ym(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=oh(u,d.snapshotVersion.toTimestamp());const _=ym(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=y2(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Em(this.serializer),n.removeTarget=t,this.q_(n)}}class aC extends V0{constructor(t,n,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=d2(t.writeResults,t.commitTime),r=Ri(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Em(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>f2(this.serializer,r)))};this.q_(n)}}class oC{}class lC extends oC{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,_m(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new et(Q.UNKNOWN,u.toString())}))}Ho(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,_m(n,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new et(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fr="RemoteStore";class cC{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Yr(this)&&(st(Fr,"Restarting streams for network reachability change."),await(async function(p){const _=At(p);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new uC(r,l)}}async function Ih(s){if(Yr(s))for(const t of s.da)await t(!0)}async function $l(s){for(const t of s.da)await t(!1)}function x0(s,t){const n=At(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ag(n)?rg(n):ho(n).O_()&&sg(n,t))}function ig(s,t){const n=At(s),r=ho(n);n.Ia.delete(t),r.O_()&&k0(n,t),n.Ia.size===0&&(r.O_()?r.L_():Yr(n)&&n.Ra.set("Unknown"))}function sg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ho(s).Y_(t)}function k0(s,t){s.Va.Ue(t),ho(s).Z_(t)}function rg(s){s.Va=new s2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ho(s).start(),s.Ra.ua()}function ag(s){return Yr(s)&&!ho(s).x_()&&s.Ia.size>0}function Yr(s){return At(s).Ea.size===0}function L0(s){s.Va=void 0}async function hC(s){s.Ra.set("Online")}async function fC(s){s.Ia.forEach(((t,n)=>{sg(s,t)}))}async function dC(s,t){L0(s),ag(s)?(s.Ra.ha(t),rg(s)):s.Ra.set("Unknown")}async function mC(s,t,n){if(s.Ra.set("Online"),t instanceof E0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){st(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await uh(s,r)}else if(t instanceof Fc?s.Va.Ze(t):t instanceof v0?s.Va.st(t):s.Va.tt(t),!n.isEqual(vt.min()))try{const r=await O0(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),k0(u,p);const S=new qs(T.target,p,_,T.sequenceNumber);sg(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){st(Fr,"Failed to raise snapshot:",r),await uh(s,r)}}async function uh(s,t,n){if(!co(t))throw t;s.Ea.add(1),await $l(s),s.Ra.set("Offline"),n||(n=()=>O0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Fr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ih(s)}))}function P0(s,t){return t().catch((n=>uh(s,n,t)))}async function Ch(s){const t=At(s),n=tr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hm;for(;gC(t);)try{const l=await $2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,pC(t,l)}catch(l){await uh(t,l)}U0(t)&&z0(t)}function gC(s){return Yr(s)&&s.Ta.length<10}function pC(s,t){s.Ta.push(t);const n=tr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function U0(s){return Yr(s)&&!tr(s).x_()&&s.Ta.length>0}function z0(s){tr(s).start()}async function yC(s){tr(s).ra()}async function _C(s){const t=tr(s);for(const n of s.Ta)t.ea(n.mutations)}async function vC(s,t,n){const r=s.Ta.shift(),l=$m.from(r,t,n);await P0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function EC(s,t){t&&tr(s).X_&&await(async function(r,l){if((function(d){return e2(d)&&d!==Q.ABORTED})(l.code)){const u=r.Ta.shift();tr(r).B_(),await P0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ch(r)}})(s,t),U0(s)&&z0(s)}async function yE(s,t){const n=At(s);n.asyncQueue.verifyOperationInProgress(),st(Fr,"RemoteStore received new credentials");const r=Yr(n);n.Ea.add(3),await $l(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ih(n)}async function TC(s,t){const n=At(s);t?(n.Ea.delete(2),await Ih(n)):t||(n.Ea.add(2),await $l(n),n.Ra.set("Unknown"))}function ho(s){return s.ma||(s.ma=(function(n,r,l){const u=At(n);return u.sa(),new rC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:hC.bind(null,s),t_:fC.bind(null,s),r_:dC.bind(null,s),H_:mC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ag(s)?rg(s):s.Ra.set("Unknown")):(await s.ma.stop(),L0(s))}))),s.ma}function tr(s){return s.fa||(s.fa=(function(n,r,l){const u=At(n);return u.sa(),new aC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:yC.bind(null,s),r_:EC.bind(null,s),ta:_C.bind(null,s),na:vC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Fr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class og{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const d=Date.now()+r,g=new og(t,n,d,l,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(s,t){if(ts("AsyncQueue",`${t}: ${s}`),co(s))return new et(Q.UNAVAILABLE,`${t}: ${s}`);throw s}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class _E{constructor(){this.ga=new le(ut.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class so{constructor(t,n,r,l,u,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new so(t,n,Ya.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class AC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class SC{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=At(n),u=l.queries;l.queries=vE(),u.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new et(Q.ABORTED,"Firestore shutting down"))}}function vE(){return new Kr((s=>a0(s)),Th)}async function bC(s,t){const n=At(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new AC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=lg(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ug(n)}async function wC(s,t){const n=At(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RC(s,t){const n=At(s);let r=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&ug(n)}function IC(s,t,n){const r=At(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(t)}function ug(s){s.Ca.forEach((t=>{t.next()}))}var Sm,EE;(EE=Sm||(Sm={})).Ma="default",EE.Cache="cache";class CC{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new so(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}class j0{constructor(t){this.key=t}}class B0{constructor(t){this.key=t}}class DC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=o0(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new _E,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const N=l.get(T),q=Ah(this.query,S)?S:null,Z=!!N&&this.mutatedKeys.has(N.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;N&&q?N.data.isEqual(q.data)?Z!==W&&(r.track({type:3,doc:q}),J=!0):this.su(N,q)||(r.track({type:2,doc:q}),J=!0,(p&&this.eu(q,p)>0||_&&this.eu(q,_)<0)&&(g=!0)):!N&&q?(r.track({type:0,doc:q}),J=!0):N&&!q&&(r.track({type:1,doc:N}),J=!0,(p||_)&&(g=!0)),J&&(q?(d=d.add(q),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(q,Z){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return W(q)-W(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new so(this.query,t.tu,u,d,t.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _E,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new B0(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new j0(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Vt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class NC{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class OC{constructor(t){this.key=t,this.hu=!1}}class MC{constructor(t,n,r,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((g=>a0(g)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new le(ut.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VC(s,t,n=!0){const r=K0(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await q0(r,t,n,!0),l}async function xC(s,t){const n=K0(s);await q0(n,t,!0,!1)}async function q0(s,t,n,r){const l=await J2(s.localStore,wi(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await kC(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&x0(s.remoteStore,l),g}async function kC(s,t,n,r,l){s.pu=(S,N,q)=>(async function(W,J,ht,Et){let mt=J.view.ru(ht);mt.Cs&&(mt=await fE(W.localStore,J.query,!1).then((({documents:w})=>J.view.ru(w,mt))));const qt=Et&&Et.targetChanges.get(J.targetId),Zt=Et&&Et.targetMismatches.get(J.targetId)!=null,rt=J.view.applyChanges(mt,W.isPrimaryClient,qt,Zt);return AE(W,J.targetId,rt.au),rt.snapshot})(s,S,N,q);const u=await fE(s.localStore,t,!0),d=new DC(t,u.Qs),g=d.ru(u.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);AE(s,n,_.au);const T=new NC(t,n,d);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),_.snapshot}async function LC(s,t,n){const r=At(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Th(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&ig(r.remoteStore,l.targetId),bm(r,l.targetId)})).catch(uo)):(bm(r,l.targetId),await Tm(r.localStore,l.targetId,!0))}async function PC(s,t){const n=At(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ig(n.remoteStore,r.targetId))}async function UC(s,t,n){const r=GC(s);try{const l=await(function(d,g){const p=At(d),_=ie.now(),T=g.reduce(((q,Z)=>q.add(Z.key)),Vt());let S,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=es(),W=Vt();return p.Ns.getEntries(q,T).next((J=>{Z=J,Z.forEach(((ht,Et)=>{Et.isValidDocument()||(W=W.add(ht))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,Z))).next((J=>{S=J;const ht=[];for(const Et of g){const mt=$I(Et,S.get(Et.key).overlayedDocument);mt!=null&&ht.push(new rr(Et.key,mt,ZT(mt.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,ht,g)})).next((J=>{N=J;const ht=J.applyToLocalDocumentSet(S,W);return p.documentOverlayCache.saveOverlays(q,J.batchId,ht)}))})).then((()=>({batchId:N.batchId,changes:u0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Mt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,n),await Jl(r,l.changes),await Ch(r.remoteStore)}catch(l){const u=lg(l,"Failed to persist write");n.reject(u)}}async function H0(s,t){const n=At(s);try{const r=await Y2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Jl(n,r,t)}catch(r){await uo(r)}}function TE(s,t,n){const r=At(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=At(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,S)=>{for(const N of S.Sa)N.va(g)&&(_=!0)})),_&&ug(p)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zC(s,t,n){const r=At(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new le(ut.comparator);d=d.insert(u,Ze.newNoDocument(u,vt.min()));const g=Vt().add(u),p=new wh(vt.min(),new Map,new le(Mt),d,g);await H0(r,p),r.du=r.du.remove(u),r.Au.delete(t),hg(r)}else await Tm(r.localStore,t,!1).then((()=>bm(r,t,n))).catch(uo)}async function jC(s,t){const n=At(s),r=t.batch.batchId;try{const l=await K2(n.localStore,t);G0(n,r,null),F0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(n,l)}catch(l){await uo(l)}}async function BC(s,t,n){const r=At(s);try{const l=await(function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((S=>(Ht(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(r.localStore,t);G0(r,t,n),F0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Jl(r,l)}catch(l){await uo(l)}}function F0(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function G0(s,t,n){const r=At(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function bm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||Q0(s,r)}))}function Q0(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(ig(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),hg(s))}function AE(s,t,n){for(const r of n)r instanceof j0?(s.Ru.addReference(r.key,t),qC(s,r)):r instanceof B0?(st(cg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||Q0(s,r.key)):yt(19791,{wu:r})}function qC(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(st(cg,"New document in limbo: "+n),s.Eu.add(r),hg(s))}function hg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ut(te.fromString(t)),r=s.fu.next();s.Au.set(r,new OC(n)),s.du=s.du.insert(n,r),x0(s.remoteStore,new qs(wi(r0(n.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function Jl(s,t,n){const r=At(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,t,n).then((_=>{if((_||n)&&r.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=eg.As(p.targetId,_);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(N=>$.forEach(N.Es,(q=>T.persistence.referenceDelegate.addReference(S,N.targetId,q))).next((()=>$.forEach(N.ds,(q=>T.persistence.referenceDelegate.removeReference(S,N.targetId,q)))))))))}catch(S){if(!co(S))throw S;st(ng,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const q=T.Ms.get(N),Z=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(N,W)}}})(r.localStore,u))}async function HC(s,t){const n=At(s);if(!n.currentUser.isEqual(t)){st(cg,"User change. New user:",t.toKey());const r=await N0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new et(Q.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Jl(n,r.Ls)}}function FC(s,t){const n=At(s),r=n.Au.get(t);if(r&&r.hu)return Vt().add(r.key);{let l=Vt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function K0(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=H0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zC.bind(null,t),t.Pu.H_=RC.bind(null,t.eventManager),t.Pu.yu=IC.bind(null,t.eventManager),t}function GC(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BC.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Q2(this.persistence,new H2,t.initialUser,this.serializer)}Cu(t){return new D0(tg.mi,this.serializer)}Du(t){return new W2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class QC extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new D0((r=>lh.mi(r,n)),this.serializer)}}class wm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HC.bind(null,this.syncEngine),await TC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SC})()}createDatastore(t){const n=Rh(t.databaseInfo.databaseId),r=(function(u){return new sC(u)})(t.databaseInfo);return(function(u,d,g,p){return new lC(u,d,g,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,d,g){return new cC(r,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>TE(this.syncEngine,n,0)),(function(){return gE.v()?new gE:new tC})())}createSyncEngine(t,n){return(function(l,u,d,g,p,_,T){const S=new MC(l,u,d,g,p,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=At(n);st(Fr,"RemoteStore shutting down."),r.Ea.add(5),await $l(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class KC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const er="FirestoreClient";class YC{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{st(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=lg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function tm(s,t){s.asyncQueue.verifyOperationInProgress(),st(er,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await N0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function SE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await XC(s);st(er,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>yE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>yE(t.remoteStore,l))),s._onlineComponents=t}async function XC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(er,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await tm(s,new ch)}}else st(er,"Using default OfflineComponentProvider"),await tm(s,new QC(void 0));return s._offlineComponents}async function Y0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(er,"Using user provided OnlineComponentProvider"),await SE(s,s._uninitializedComponentsProvider._online)):(st(er,"Using default OnlineComponentProvider"),await SE(s,new wm))),s._onlineComponents}function $C(s){return Y0(s).then((t=>t.syncEngine))}async function JC(s){const t=await Y0(s),n=t.eventManager;return n.onListen=VC.bind(null,t.syncEngine),n.onUnlisten=LC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=PC.bind(null,t.syncEngine),n}function ZC(s,t,n={}){const r=new Ks;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,p,_){const T=new KC({next:N=>{T.Nu(),d.enqueueAndForget((()=>wC(u,S))),N.fromCache&&p.source==="server"?_.reject(new et(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new CC(g,T,{includeMetadataChanges:!0,qa:!0});return bC(u,S)})(await JC(s),s.asyncQueue,t,n,r))),r.promise}function X0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const bE=new Map;const $0="firestore.googleapis.com",wE=!0;class RE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new et(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$0,this.ssl=wE}else this.host=t.host,this.ssl=t.ssl??wE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=C0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<R2)throw new et(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new et(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new sI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new et(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bE.get(n);r&&(st("ComponentProvider","Removing Datastore"),bE.delete(n),r.terminate())})(this),Promise.resolve()}}function WC(s,t,n,r={}){s=Xs(s,Dh);const l=ro(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(GE(`https://${g}`),QE("Firestore",!0)),u.host!==$0&&u.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:r};if(!zr(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=Je.MOCK_USER;else{_=c1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new et(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(S)}s._authCredentials=new eI(new jT(_,T))}}class is{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new is(this.firestore,t,this._query)}}class Ce{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Kl(n,Ce._jsonSchema))return new Ce(t,r||null,new ut(te.fromString(n.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Ys extends is{constructor(t,n,r){super(t,n,r0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ut(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function fg(s,t,...n){if(s=ke(s),BT("collection","path",t),s instanceof Dh){const r=te.fromString(t,...n);return jv(r),new Ys(s,null,r)}{if(!(s instanceof Ce||s instanceof Ys))throw new et(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(t,...n));return jv(r),new Ys(s.firestore,null,r)}}function dg(s,t,...n){if(s=ke(s),arguments.length===1&&(t=qm.newId()),BT("doc","path",t),s instanceof Dh){const r=te.fromString(t,...n);return zv(r),new Ce(s,null,new ut(r))}{if(!(s instanceof Ce||s instanceof Ys))throw new et(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(t,...n));return zv(r),new Ce(s.firestore,s instanceof Ys?s.converter:null,new ut(r))}}const IE="AsyncQueue";class CE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M0(this,"async_queue_retry"),this._c=()=>{const r=Wd();r&&st(IE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;st(IE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",DE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=og.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:DE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function DE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Zl extends Dh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new CE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CE(t),this._firestoreClient=void 0,await t}}}function tD(s,t){const n=typeof s=="object"?s:$E(),r=typeof s=="string"?s:eh,l=Mm(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=l1("firestore");u&&WC(l,...u)}return l}function J0(s){if(s._terminated)throw new et(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||eD(s),s._firestoreClient}function eD(s){const t=s._freezeSettings(),n=(function(l,u,d,g){return new TI(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,X0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new YC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(n){throw new et(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ie("string",Pn._jsonSchemaVersion),bytes:Ie("string")};class Nh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new et(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class mg{constructor(t){this._methodName=t}}class Ii{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new et(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new et(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ci{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ci(t.vectorValues);throw new et(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),vectorValues:Ie("object")};const nD=/^__.*__$/;class iD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(t,this.data,n,this.fieldTransforms)}}class Z0{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new rr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function W0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class gg{constructor(t,n,r,l,u,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new gg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(W0(this.Ac)&&nD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Rh(t)}Cc(t,n,r,l=!1){return new gg({Ac:t,methodName:n,Dc:r,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(s){const t=s._freezeSettings(),n=Rh(s._databaseId);return new sD(s._databaseId,!!t.ignoreUndefinedProperties,n)}function rD(s,t,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,n,l);pg("Data must be an object, but it was:",d,r);const g=eA(r,d);let p,_;if(u.merge)p=new An(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const N=Rm(t,S,n);if(!d.contains(N))throw new et(Q.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);iA(T,N)||T.push(N)}p=new An(T),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new iD(new fn(g),p,_)}class Mh extends mg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}function aD(s,t,n,r){const l=s.Cc(1,t,n);pg("Data must be an object, but it was:",l,r);const u=[],d=fn.empty();sr(r,((p,_)=>{const T=yg(t,p,n);_=ke(_);const S=l.yc(T);if(_ instanceof Mh)u.push(T);else{const N=Wl(_,S);N!=null&&(u.push(T),d.set(T,N))}}));const g=new An(u);return new Z0(d,g,l.fieldTransforms)}function oD(s,t,n,r,l,u){const d=s.Cc(1,t,n),g=[Rm(t,r,n)],p=[l];if(u.length%2!=0)throw new et(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(Rm(t,u[N])),p.push(u[N+1]);const _=[],T=fn.empty();for(let N=g.length-1;N>=0;--N)if(!iA(_,g[N])){const q=g[N];let Z=p[N];Z=ke(Z);const W=d.yc(q);if(Z instanceof Mh)_.push(q);else{const J=Wl(Z,W);J!=null&&(_.push(q),T.set(q,J))}}const S=new An(_);return new Z0(T,S,d.fieldTransforms)}function tA(s,t,n,r=!1){return Wl(n,s.Cc(r?4:3,t))}function Wl(s,t){if(nA(s=ke(s)))return pg("Unsupported field value:",t,s),eA(s,t);if(s instanceof mg)return(function(r,l){if(!W0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let p=Wl(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ie.fromDate(r);return{timestampValue:oh(l.serializer,u)}}if(r instanceof ie){const u=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(l.serializer,u)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:T0(l.serializer,r._byteString)};if(r instanceof Ce){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ci)return(function(d,g){return{mapValue:{fields:{[$T]:{stringValue:JT},[nh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ym(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ph(r)}`)})(s,t)}function eA(s,t){const n={};return FT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(s,((r,l)=>{const u=Wl(l,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function nA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ii||s instanceof Pn||s instanceof Ce||s instanceof mg||s instanceof Ci)}function pg(s,t,n){if(!nA(n)||!qT(n)){const r=ph(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Rm(s,t,n){if((t=ke(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return yg(s,t);throw hh("Field path arguments must be of type string or ",s,!1,void 0,n)}const lD=new RegExp("[~\\*/\\[\\]]");function yg(s,t,n){if(t.search(lD)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Nh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function hh(s,t,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new et(Q.INVALID_ARGUMENT,g+s+p)}function iA(s,t){return s.some((n=>n.isEqual(t)))}class _g{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Vh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uD extends _g{data(){return super.data()}}function Vh(s,t){return typeof t=="string"?yg(s,t):t instanceof Nh?t._internalPath:t._delegate._internalPath}function cD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new et(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class xh extends vg{}function Eg(s,t,...n){let r=[];t instanceof vg&&r.push(t),r=r.concat(n),(function(u){const d=u.filter((p=>p instanceof Tg)).length,g=u.filter((p=>p instanceof kh)).length;if(d>1||d>0&&g>0)throw new et(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class kh extends xh{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new kh(t,n,r)}_apply(t){const n=this._parse(t);return rA(t._query,n),new is(t.firestore,t.converter,pm(t._query,n))}_parse(t){const n=Oh(t.firestore);return(function(u,d,g,p,_,T,S){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new et(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){OE(S,T);const Z=[];for(const W of S)Z.push(NE(p,u,W));N={arrayValue:{values:Z}}}else N=NE(p,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||OE(S,T),N=tA(g,d,S,T==="in"||T==="not-in");return Re.create(_,T,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function hD(s,t,n){const r=t,l=Vh("where",s);return kh._create(l,r,n)}class Tg extends vg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Tg(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)rA(d,p),d=pm(d,p)})(t._query,n),new is(t.firestore,t.converter,pm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends xh{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ag(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new et(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(u,d)})(t._query,this._field,this._direction);return new is(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Qr(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function sA(s,t="asc"){const n=t,r=Vh("orderBy",s);return Ag._create(r,n)}class Sg extends xh{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Sg(t,n,r)}_apply(t){return new is(t.firestore,t.converter,sh(t._query,this._limit,this._limitType))}}function fD(s){return Sg._create("limit",s,"F")}class bg extends xh{constructor(t,n,r){super(),this.type=t,this._docOrFields=n,this._inclusive=r}static _create(t,n,r){return new bg(t,n,r)}_apply(t){const n=mD(t,this.type,this._docOrFields,this._inclusive);return new is(t.firestore,t.converter,(function(l,u){return new Qr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,u,l.endAt)})(t._query,n))}}function dD(...s){return bg._create("startAfter",s,!1)}function mD(s,t,n,r){if(n[0]=ke(n[0]),n[0]instanceof _g)return(function(u,d,g,p,_){if(!p)throw new et(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const T=[];for(const S of Ka(u))if(S.field.isKeyField())T.push(ih(d,p.key));else{const N=p.data.field(S.field);if(vh(N))throw new et(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(N===null){const q=S.field.canonicalString();throw new et(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}T.push(N)}return new no(T,_)})(s._query,s.firestore._databaseId,t,n[0]._document,r);{const l=Oh(s.firestore);return(function(d,g,p,_,T,S){const N=d.explicitOrderBy;if(T.length>N.length)throw new et(Q.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let Z=0;Z<T.length;Z++){const W=T[Z];if(N[Z].field.isKeyField()){if(typeof W!="string")throw new et(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!Km(d)&&W.indexOf("/")!==-1)throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const J=d.path.child(te.fromString(W));if(!ut.isDocumentKey(J))throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const ht=new ut(J);q.push(ih(g,ht))}else{const J=tA(p,_,W);q.push(J)}}return new no(q,S)})(s._query,s.firestore._databaseId,l,t,n,r)}}function NE(s,t,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new et(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Km(t)&&n.indexOf("/")!==-1)throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(te.fromString(n));if(!ut.isDocumentKey(r))throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ih(s,new ut(r))}if(n instanceof Ce)return ih(s,n._key);throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function OE(s,t){if(!Array.isArray(s)||s.length===0)throw new et(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rA(s,t){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new et(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new et(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class gD{convertValue(t,n="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return sr(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[nh].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Ci(n)}convertGeoPoint(t){return new Ii(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Eh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const n=Js(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=te.fromString(t);Ht(I0(r),9688,{name:t});const l=new Ll(r.get(1),r.get(3)),u=new ut(r.popFirst(5));return l.isEqual(n)||ts(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function pD(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class kc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xa extends _g{constructor(t,n,r,l,u,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Ie("string",Xa._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Gc extends Xa{data(t={}){return super.data(t)}}class $a{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new kc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Gc(this._firestore,this._userDataWriter,r.key,r,new kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new et(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Gc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new kc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Gc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new kc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:yD(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Ie("string",$a._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class _D extends gD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}function wg(s){s=Xs(s,is);const t=Xs(s.firestore,Zl),n=J0(t),r=new _D(t);return cD(s._query),ZC(n,s._query).then((l=>new $a(t,r,s,l)))}function vD(s,t,n){s=Xs(s,Ce);const r=Xs(s.firestore,Zl),l=pD(s.converter,t);return Rg(r,[rD(Oh(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Jn.none())])}function ED(s,t,n,...r){s=Xs(s,Ce);const l=Xs(s.firestore,Zl),u=Oh(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof Nh?oD(u,"updateDoc",s._key,t,n,r):aD(u,"updateDoc",s._key,t),Rg(l,[d.toMutation(s._key,Jn.exists(!0))])}function TD(s){return Rg(Xs(s.firestore,Zl),[new Xm(s._key,Jn.none())])}function Rg(s,t){return(function(r,l){const u=new Ks;return r.asyncQueue.enqueueAndForget((async()=>UC(await $C(r),l,u))),u.promise})(J0(s),t)}(function(t,n=!0){(function(l){lo=l})(ao),Ja(new jr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new Zl(new nI(r.getProvider("auth-internal")),new rI(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new et(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(_.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Gs(kv,Lv,t),Gs(kv,Lv,"esm2020")})();const AD={apiKey:"AIzaSyBGekRhtiAF9F7GDmE2VhpS42eRR4XQ-gI",authDomain:"skillpulse-63731.firebaseapp.com",projectId:"skillpulse-63731",storageBucket:"skillpulse-63731.firebasestorage.app",messagingSenderId:"81068822204",appId:"1:81068822204:web:6068dbd16472c769ed8ab9"},aA=XE(AD),Lh=ZR(aA),fo=tD(aA),oA=(s,t)=>s?.trim()?t?.trim()?{isValid:!0}:{isValid:!1,error:"Password cannot be empty"}:{isValid:!1,error:"Email cannot be empty"},Ig=s=>({"auth/email-already-in-use":"This email is already registered. Please log in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"Email/password accounts are not enabled. Please contact support.","auth/weak-password":"Password is too weak. Please use at least 6 characters.","auth/user-disabled":"This account has been disabled. Please contact support.","auth/user-not-found":"No account found with this email. Please sign up first.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid email or password. Please check your credentials.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your internet connection.","auth/app-not-authorized":"App not authorized. Please contact support."})[s]||"An error occurred. Please try again.",SD=async(s,t)=>{const n=oA(s,t);if(!n.isValid)return{success:!1,error:n.error};try{return{success:!0,user:(await Pw(Lh,s,t)).user}}catch(r){return console.error("Login error:",r),{success:!1,error:Ig(r.code)}}},bD=async(s,t)=>{const n=oA(s,t);if(!n.isValid)return{success:!1,error:n.error};try{return{success:!0,user:(await Lw(Lh,s,t)).user}}catch(r){return console.error("Sign up error:",r),{success:!1,error:Ig(r.code)}}},wD=async()=>{try{return await Bw(Lh),{success:!0}}catch(s){return console.error("Logout error:",s),{success:!1,error:Ig(s.code)}}},RD=s=>jw(Lh,s),mo="tasks",ME=20,ID=s=>{try{const{id:t,description:n,timestamp:r,startTime:l,endTime:u}=s.data();return t&&n&&r&&l&&u?{id:t,description:n,timestamp:r,startTime:l,endTime:u}:null}catch(t){return console.error("Error mapping document to task:",t),null}},CD={"permission-denied":"You do not have permission to perform this action.",unavailable:"Service is temporarily unavailable. Please try again.","not-found":"The requested document was not found.","already-exists":"A document with this ID already exists.","resource-exhausted":"Quota exceeded. Please try again later.",cancelled:"Operation was cancelled.","data-loss":"Data loss occurred. Please contact support.",unauthenticated:"You must be logged in to perform this action."},Ph=s=>CD[s.code]||s.message||"An error occurred. Please try again.",VE=async(s=null)=>{try{const t=Eg(fg(fo,mo),sA("timestamp","desc"),...s?[dD(s)]:[],fD(ME)),r=(await wg(t)).docs.map(ID).filter(Boolean),l=r.length>0?r[r.length-1].timestamp:null;return{success:!0,tasks:r,lastTimestamp:l,canLoadMore:r.length===ME}}catch(t){return console.error("Error loading tasks:",t),{success:!1,error:Ph(t)}}},DD=async s=>{const t=new Date(s),n=`${t.getFullYear()}${String(t.getMonth()+1).padStart(2,"0")}${String(t.getDate()).padStart(2,"0")}`,l=(await wg(Eg(fg(fo,mo),sA("id","desc")))).docs.reduce((u,d)=>{const g=d.data().id;if(g?.startsWith(`${n}_`)){const p=parseInt(g.split("_")[1],10)||0;return p>u?p:u}return u},0);return`${n}_${l+1}`},lA=async s=>{const t=await wg(Eg(fg(fo,mo),hD("id","==",s)));return t.empty?null:t.docs[0].id},ND=async(s,t,n)=>{try{const r=await DD(t),l={id:r,description:s,timestamp:new Date().toISOString(),startTime:t,endTime:n};return await vD(dg(fo,mo,r),l),{success:!0,task:l}}catch(r){return console.error("Error adding task:",r),{success:!1,error:Ph(r)}}},OD=async(s,t,n,r)=>{try{const l=await lA(s);return l?(await ED(dg(fo,mo,l),{description:t,startTime:n,endTime:r}),{success:!0}):{success:!1,error:"Task not found"}}catch(l){return console.error("Error updating task:",l),{success:!1,error:Ph(l)}}},MD=async s=>{try{const t=await lA(s);return t?(await TD(dg(fo,mo,t)),{success:!0}):{success:!1,error:"Task not found"}}catch(t){return console.error("Error deleting task:",t),{success:!1,error:Ph(t)}}},VD=10,xE=s=>s.toLowerCase().trim(),xD=(s,t)=>{const n=xE(s),r=xE(t);return n.startsWith(r)},kD=s=>[...new Set(s.map(t=>t.description))],LD=(s,t)=>!t||t.trim()===""?s:s.filter(n=>xD(n,t)),PD=(s,t)=>s.slice(0,t),Im=(s,t="",n=VD)=>{const r=kD(s),l=LD(r,t),u=PD(l,n);return console.log(`extractSuggestions: ${u}`),u},UD=({email:s,password:t,isLoading:n,handleLogin:r,handleSignUp:l})=>R.jsxs("div",{className:"btn-group",style:{flexDirection:"column"},children:[R.jsx("button",{className:"btn btn-primary btn-full",onClick:r,disabled:n||!s||!t,children:n?"Loading...":"Log In"}),R.jsx("button",{className:"btn btn-secondary btn-full",onClick:l,disabled:n||!s||!t,children:"Sign Up"})]}),Ve={Pulse:()=>R.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:R.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),Eye:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),R.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),EyeOff:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),R.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),Plus:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),R.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Filter:()=>R.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:R.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),X:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Logout:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),R.jsx("polyline",{points:"16 17 21 12 16 7"}),R.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),ArrowLeft:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),R.jsx("polyline",{points:"12 19 5 12 12 5"})]}),Edit:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),R.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Trash:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("polyline",{points:"3 6 5 6 21 6"}),R.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),Calendar:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),R.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),R.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),R.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Clock:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("circle",{cx:"12",cy:"12",r:"10"}),R.jsx("polyline",{points:"12 6 12 12 16 14"})]}),ChevronLeft:()=>R.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:R.jsx("polyline",{points:"15 18 9 12 15 6"})}),ChevronRight:()=>R.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:R.jsx("polyline",{points:"9 18 15 12 9 6"})}),AlertCircle:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("circle",{cx:"12",cy:"12",r:"10"}),R.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),R.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),Inbox:()=>R.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),R.jsx("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]})},uA=({message:s,type:t="success",onClose:n})=>(gt.useEffect(()=>{const r=setTimeout(n,3e3);return()=>clearTimeout(r)},[n]),R.jsx("div",{className:`alert ${t}`,children:s})),cA=()=>R.jsxs("div",{className:"loading",children:[R.jsx("div",{className:"spinner"}),R.jsx("span",{style:{color:"var(--text-secondary)"},children:"Loading..."})]}),hA=({isOpen:s,onClose:t,title:n,children:r,maxWidth:l="500px"})=>s?R.jsx("div",{className:"modal-overlay",onClick:t,children:R.jsxs("div",{className:"modal",onClick:u=>u.stopPropagation(),style:{maxWidth:l},children:[n&&R.jsxs("div",{className:"modal-header",children:[R.jsx("button",{className:"modal-back",onClick:t,children:R.jsx(Ve.ArrowLeft,{})}),R.jsx("h2",{className:"modal-title",children:n})]}),R.jsx("div",{className:"modal-body",children:r})]})}):null,fA=gt.createContext(),zD=({children:s})=>{const[t,n]=gt.useState(()=>{const l=localStorage.getItem("darkMode");return l!==null?JSON.parse(l):window.matchMedia("(prefers-color-scheme: dark)").matches});gt.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(t)),t?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")},[t]);const r=()=>{n(l=>!l)};return R.jsx(fA.Provider,{value:{isDarkMode:t,toggleTheme:r},children:s})},jD=()=>{const s=gt.useContext(fA);if(!s)throw new Error("useTheme must be used within ThemeProvider");return s},BD=()=>{const{isDarkMode:s,toggleTheme:t}=jD();return R.jsx("button",{className:"theme-toggle",onClick:t,"aria-label":"Toggle dark mode",children:s?"":""})},qD=({password:s,setPassword:t,showPassword:n,setShowPassword:r})=>R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"form-label",children:"Password"}),R.jsxs("div",{className:"form-input-wrapper",children:[R.jsx("input",{type:n?"text":"password",className:"form-input",placeholder:"",value:s,onChange:l=>t(l.target.value),style:{paddingRight:"44px"}}),R.jsx("span",{className:"form-input-icon",onClick:()=>r(!n),children:n?R.jsx(Ve.EyeOff,{}):R.jsx(Ve.Eye,{})})]})]}),HD=({email:s,setEmail:t,error:n})=>R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"auth-logo",children:[R.jsx("div",{className:"auth-logo-icon",children:R.jsx(Ve.Pulse,{})}),R.jsx("h1",{className:"auth-title",children:"SkillPulse"}),R.jsx("p",{className:"auth-subtitle",children:"Track your tasks, boost your productivity"})]}),n&&R.jsx("div",{className:"auth-error",children:n}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"form-label",children:"Email"}),R.jsx("input",{type:"email",className:"form-input",placeholder:"you@example.com",value:s,onChange:r=>t(r.target.value)})]})]}),FD=({onLoginSuccess:s})=>{const[t,n]=gt.useState(""),[r,l]=gt.useState(""),[u,d]=gt.useState(!1),[g,p]=gt.useState(!1),[_,T]=gt.useState(""),S=async()=>{if(!t||!r)return;p(!0),T("");const q=await SD(t,r);p(!1),q.success?s(q.user):T(q.error)},N=async()=>{if(!t||!r)return;p(!0),T("");const q=await bD(t,r);p(!1),q.success?s(q.user):T(q.error)};return R.jsx("div",{className:"auth-container",children:R.jsxs("div",{className:"auth-card",children:[R.jsx(HD,{email:t,setEmail:n,error:_}),R.jsx(qD,{password:r,setPassword:l,showPassword:u,setShowPassword:d}),R.jsx(UD,{email:t,password:r,isLoading:g,handleLogin:S,handleSignUp:N})]})})},GD=({user:s,taskCount:t,filteredCount:n,showFilter:r,onToggleFilter:l,onLogout:u})=>R.jsxs("header",{className:"header",children:[R.jsxs("div",{className:"header-left",children:[R.jsx("span",{className:"header-welcome",children:"Welcome back, testing, "}),R.jsx("h1",{className:"header-title",children:s})]}),R.jsxs("div",{className:"header-right",children:[R.jsx(BD,{}),t>0&&R.jsxs("span",{className:"header-stats",children:[n,"/",t," tasks"]}),R.jsx("button",{className:"header-btn",onClick:l,title:r?"Hide filter":"Show filter",children:r?R.jsx(Ve.X,{}):R.jsx(Ve.Filter,{})}),R.jsx("button",{className:"header-btn",onClick:u,title:"Logout",children:R.jsx(Ve.Logout,{})})]})]}),QD=({filterDate:s,onFilterChange:t,onClear:n})=>R.jsxs("div",{className:"filter-bar",children:[R.jsx("input",{type:"date",className:"filter-input",value:s,onChange:r=>t(r.target.value),placeholder:"Filter by date"}),R.jsxs("button",{className:"filter-btn filter-btn-clear",onClick:n,disabled:!s,style:{opacity:s?1:.5},children:[R.jsx(Ve.X,{}),"Clear"]})]}),KD=({onClick:s})=>R.jsx("button",{className:"fab",onClick:s,children:R.jsx(Ve.Plus,{})}),YD=()=>{const[s,t]=gt.useState([]),[n,r]=gt.useState([]),[l,u]=gt.useState([]),[d,g]=gt.useState(!0),[p,_]=gt.useState(!1),[T,S]=gt.useState(!1),[N,q]=gt.useState(null),[Z,W]=gt.useState(""),J=gt.useCallback(async()=>{g(!0);const rt=await VE(null);return g(!1),rt.success&&(r(rt.tasks),t(rt.tasks),q(rt.lastTimestamp),S(rt.canLoadMore),u(Im(rt.tasks))),rt},[]),ht=gt.useCallback(async()=>{if(p||!T)return{success:!1};_(!0);const rt=await VE(N);return rt.success&&(r(w=>[...w,...rt.tasks]),t(w=>[...w,...rt.tasks]),q(rt.lastTimestamp),S(rt.canLoadMore),u(w=>[...new Set([...w,...Im(rt.tasks)])])),_(!1),rt},[p,T,N]),Et=gt.useCallback(rt=>{W(rt),t(rt?n.filter(w=>w.startTime.includes(rt)):n)},[n]),mt=gt.useCallback(async rt=>{const w=await ND(rt.description,rt.startTime,rt.endTime);return w.success&&(r(b=>[w.task,...b]),t(b=>[w.task,...b]),u(b=>[...new Set([rt.description,...b])])),w},[]),qt=gt.useCallback(async(rt,w)=>{const b=await OD(rt,w.description,w.startTime,w.endTime);if(b.success){const I={id:rt,...w};r(x=>x.map(O=>O.id===rt?{...O,...I}:O)),t(x=>x.map(O=>O.id===rt?{...O,...I}:O))}return b},[]),Zt=gt.useCallback(async rt=>{const w=await MD(rt);return w.success&&(r(b=>b.filter(I=>I.id!==rt)),t(b=>b.filter(I=>I.id!==rt))),w},[]);return{tasks:s,allTasks:n,descriptions:l,isLoading:d,showLoadingSpinner:p,canLoadMore:T,filterDate:Z,fetchTasks:J,loadMore:ht,filterByDate:Et,addNewTask:mt,editTask:qt,removeTask:Zt}},XD=()=>{const[s,t]=gt.useState(!1),[n,r]=gt.useState(!1),[l,u]=gt.useState(null),[d,g]=gt.useState(null),[p,_]=gt.useState(!1),[T,S]=gt.useState(null);return{showFilter:s,showAddForm:n,editTaskData:l,deleteTaskData:d,showDeleteDialog:p,alert:T,openAddForm:()=>r(!0),closeAddForm:()=>r(!1),openEditForm:N=>u(N),closeEditForm:()=>u(null),openDeleteDialog:N=>{g(N),_(!0)},closeDeleteDialog:()=>{_(!1),g(null)},toggleFilter:()=>t(N=>!N),showAlert:(N,q="success")=>S({message:N,type:q}),closeAlert:()=>S(null)}},$D=(s,t)=>({handleAddTask:async n=>{const r=await s.addNewTask(n);r.success?(t.closeAddForm(),t.showAlert("Task added!")):t.showAlert(r.error,"error")},handleEditTask:async n=>{const r=await s.editTask(t.editTaskData.id,n);r.success?(t.closeEditForm(),t.showAlert("Task updated!")):t.showAlert(r.error,"error")},handleDeleteTask:async()=>{const n=await s.removeTask(t.deleteTaskData.id);n.success?(t.closeDeleteDialog(),t.showAlert("Task deleted!")):t.showAlert(n.error,"error")},handleLoadMore:async()=>{const n=await s.loadMore();!n.success&&n.error&&t.showAlert(n.error,"error")}}),JD=({user:s,taskCount:t,filteredCount:n,showFilter:r,onToggleFilter:l,onLogout:u,filterDate:d,onFilterChange:g})=>R.jsxs(R.Fragment,{children:[R.jsx(GD,{user:s?.email?.split("@")[0]||"User",taskCount:t,filteredCount:n,showFilter:r,onToggleFilter:l,onLogout:u}),r&&R.jsx(QD,{filterDate:d,onFilterChange:g,onClear:()=>g("")})]}),Cm=s=>{if(!s)return"";try{return new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return s}},ZD=({task:s,index:t,onEdit:n,onDelete:r})=>R.jsxs("div",{className:"task-card",style:{animationDelay:`${t*.05}s`},children:[R.jsxs("div",{className:"task-header",children:[R.jsx("span",{className:"task-id",children:s.id}),R.jsxs("div",{className:"task-actions",children:[R.jsx("button",{className:"task-action-btn",onClick:()=>n(s),children:R.jsx(Ve.Edit,{})}),R.jsx("button",{className:"task-action-btn delete",onClick:()=>r(s),children:R.jsx(Ve.Trash,{})})]})]}),R.jsx("div",{className:"task-description",children:s.description}),R.jsxs("div",{className:"task-times",children:[R.jsxs("div",{className:"task-time",children:[R.jsx(Ve.Clock,{}),R.jsx("span",{className:"task-time-label",children:"Start:"}),R.jsx("span",{children:Cm(s.startTime)})]}),R.jsxs("div",{className:"task-time",children:[R.jsx(Ve.Clock,{}),R.jsx("span",{className:"task-time-label",children:"End:"}),R.jsx("span",{children:Cm(s.endTime)})]})]})]}),WD=s=>{const t=s.getFullYear(),n=s.getMonth(),r=new Date(t,n,1),u=new Date(t,n+1,0).getDate(),d=r.getDay(),g=new Date().toDateString(),p=[];for(let _=0;_<d;_++)p.push({day:"",empty:!0});for(let _=1;_<=u;_++){const T=new Date(t,n,_);p.push({day:_,date:T,isToday:g===T.toDateString(),isSelected:!1})}return p},tN=(s,t,n)=>{const r=new Date(s);return r.setHours(parseInt(t,10),parseInt(n,10),0),r.toISOString()},dA=()=>{const[s,t]=gt.useState(new Date),[n,r]=gt.useState(new Date),[l,u]=gt.useState("12"),[d,g]=gt.useState("00"),[p,_]=gt.useState("date");return{selectedDate:s,currentMonth:n,hours:l,minutes:d,step:p,setSelectedDate:t,setHours:u,setMinutes:g,setStep:_,changeMonth:N=>{r(new Date(n.getFullYear(),n.getMonth()+N))},handleConfirm:(N,q)=>{p==="date"?_("time"):(N(tN(s,l,d)),q(),_("date"))}}},eN=({isOpen:s,onClose:t,title:n})=>{if(!s)return null;const{step:r,setStep:l}=dA();return R.jsxs("div",{className:"modal-header",children:[R.jsx("button",{className:"modal-back",onClick:()=>r==="time"?l("date"):t(),children:R.jsx(Ve.ArrowLeft,{})}),R.jsx("h2",{className:"modal-title",children:n||"Select Date and Time"})]})},nN=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],iN=["January","February","March","April","May","June","July","August","September","October","November","December"],sN=({currentMonth:s,onMonthChange:t})=>R.jsxs("div",{className:"calendar-header",children:[R.jsxs("span",{className:"calendar-month",children:[iN[s.getMonth()]," ",s.getFullYear()]}),R.jsxs("div",{className:"calendar-nav",children:[R.jsx("button",{className:"calendar-nav-btn",onClick:()=>t(-1),children:R.jsx(Ve.ChevronLeft,{})}),R.jsx("button",{className:"calendar-nav-btn",onClick:()=>t(1),children:R.jsx(Ve.ChevronRight,{})})]})]}),rN=({selectedDate:s,currentMonth:t,onDateSelect:n})=>R.jsxs("div",{className:"calendar-grid",children:[nN.map(r=>R.jsx("div",{className:"calendar-day-header",children:r},r)),WD(t).map((r,l)=>{const u=s?.toDateString()===r.date?.toDateString();return R.jsx("div",{className:`calendar-day ${r.empty?"empty":""} ${r.isToday?"today":""} ${u?"selected":""}`,onClick:()=>!r.empty&&n(r.date),children:r.day},l)})]}),aN=({selectedDate:s,currentMonth:t,onDateSelect:n,onMonthChange:r})=>R.jsxs("div",{className:"calendar",children:[R.jsx(sN,{currentMonth:t,onMonthChange:r}),R.jsx(rN,{selectedDate:s,currentMonth:t,onDateSelect:n})]}),kE=({value:s,onChange:t,max:n,placeholder:r})=>R.jsx("input",{type:"text",className:"time-input",value:s,onChange:l=>{const u=l.target.value.replace(/\D/g,"").slice(0,2);(parseInt(u,10)<=n||u==="")&&t(u)},placeholder:r}),oN=({hours:s,minutes:t,onHoursChange:n,onMinutesChange:r})=>R.jsxs("div",{className:"time-picker",children:[R.jsx(kE,{value:s,onChange:n,max:23,placeholder:"HH"}),R.jsx("span",{className:"time-separator",children:":"}),R.jsx(kE,{value:t,onChange:r,max:59,placeholder:"MM"})]}),lN=({step:s,selectedDate:t,setStep:n})=>R.jsxs("div",{className:"datetime-tabs",children:[R.jsx("button",{className:`datetime-tab ${s==="date"?"active":""}`,onClick:()=>n("date"),children:" Date"}),R.jsx("button",{className:`datetime-tab ${s==="time"?"active":""}`,onClick:()=>s==="date"&&t&&n("time"),children:" Time"})]}),uN=({isOpen:s,onClose:t,onSelect:n})=>{if(!s)return null;const{selectedDate:r,currentMonth:l,hours:u,minutes:d,step:g,setSelectedDate:p,setHours:_,setMinutes:T,setStep:S,changeMonth:N,handleConfirm:q}=dA();return R.jsxs("div",{className:"datetime-picker",children:[R.jsx(lN,{step:g,selectedDate:r,setStep:S}),g==="date"&&R.jsx(aN,{selectedDate:r,currentMonth:l,onDateSelect:p,onMonthChange:N}),g==="time"&&R.jsx(oN,{hours:u,minutes:d,onHoursChange:_,onMinutesChange:T}),R.jsx("button",{className:"btn btn-primary btn-full",onClick:()=>q(n,t),children:g==="date"?"Next":"Confirm"})]})},LE=({isOpen:s,onClose:t,onSelect:n,title:r})=>s?R.jsx("div",{className:"modal-overlay",onClick:t,children:R.jsxs("div",{className:"modal",onClick:l=>l.stopPropagation(),children:[R.jsx(eN,{isOpen:s,onClose:t,title:r}),R.jsx(uN,{isOpen:s,onClose:t,onSelect:n})]})}):null,cN=(s,t)=>{const[n,r]=gt.useState(""),[l,u]=gt.useState(""),[d,g]=gt.useState(""),[p,_]=gt.useState(!1),[T,S]=gt.useState(!1),[N,q]=gt.useState(!1),[Z,W]=gt.useState(!1);return gt.useEffect(()=>{s?(r(s.description),u(s.startTime),g(s.endTime)):(r(""),u(""),g(""))},[s,t]),{description:n,setDescription:r,startTime:l,setStartTime:u,endTime:d,setEndTime:g,showSuggestions:p,setShowSuggestions:_,showStartPicker:T,setShowStartPicker:S,showEndPicker:N,setShowEndPicker:q,isLoading:Z,setIsLoading:W}},hN=({description:s,setDescription:t,showSuggestions:n,setShowSuggestions:r,allTasks:l})=>{const u=Im(l,s,5).filter(d=>d.toLowerCase()!==s.toLowerCase());return R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"form-label",children:"Description"}),R.jsx("textarea",{className:"form-input form-textarea",placeholder:"Enter task description",value:s,onChange:d=>{t(d.target.value),r(d.target.value.length>0)},onFocus:()=>r(s.length>0),onBlur:()=>setTimeout(()=>r(!1),200)}),n&&u.length>0&&R.jsx("div",{className:"suggestions-list",children:u.map((d,g)=>R.jsx("div",{className:"suggestion-item",onClick:()=>{t(d),r(!1)},children:d},g))})]})},PE=({label:s,value:t,onClick:n,placeholder:r})=>R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"form-label",children:s}),R.jsxs("div",{className:"form-input-wrapper",children:[R.jsx("input",{type:"text",className:"form-input",placeholder:r,value:t?Cm(t):"",readOnly:!0,onClick:n,style:{cursor:"pointer",paddingRight:"44px"}}),R.jsx("span",{className:"form-input-icon",onClick:n,children:R.jsx(Ve.Calendar,{})})]})]}),fN=({state:s,allTasks:t,editTask:n})=>R.jsxs(R.Fragment,{children:[n&&R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"form-label",children:"Task ID"}),R.jsx("input",{type:"text",className:"form-input",value:n.id,disabled:!0,style:{opacity:.6}})]}),R.jsx(hN,{...s,allTasks:t}),R.jsx(PE,{label:"Start Time",value:s.startTime,onClick:()=>s.setShowStartPicker(!0),placeholder:"Select start date and time"}),R.jsx(PE,{label:"End Time",value:s.endTime,onClick:()=>s.setShowEndPicker(!0),placeholder:"Select end date and time"})]}),UE=({isOpen:s,onClose:t,onSave:n,editTask:r,allTasks:l=[]})=>{const u=cN(r,s),d=async()=>{!u.description||!u.startTime||!u.endTime||(u.setIsLoading(!0),await new Promise(p=>setTimeout(p,500)),n({description:u.description,startTime:u.startTime,endTime:u.endTime}),u.setIsLoading(!1),t())},g=u.description&&u.startTime&&u.endTime;return R.jsxs(R.Fragment,{children:[R.jsxs(hA,{isOpen:s,onClose:t,title:r?"Edit Task":"Add Task",children:[R.jsx(fN,{state:u,allTasks:l,editTask:r}),R.jsx("button",{className:"btn btn-primary btn-full",onClick:d,disabled:u.isLoading||!g,style:{marginTop:"8px"},children:u.isLoading?"Saving...":r?"Save Changes":"Add Task"})]}),R.jsx(LE,{isOpen:u.showStartPicker,onClose:()=>u.setShowStartPicker(!1),onSelect:u.setStartTime,title:"Select Start Time"}),R.jsx(LE,{isOpen:u.showEndPicker,onClose:()=>u.setShowEndPicker(!1),onSelect:u.setEndTime,title:"Select End Time"})]})},dN=({isOpen:s,onClose:t,onConfirm:n,taskDescription:r})=>R.jsx(hA,{isOpen:s,onClose:t,children:R.jsxs("div",{className:"confirm-dialog",children:[R.jsx("div",{className:"confirm-icon",children:R.jsx(Ve.AlertCircle,{})}),R.jsx("h3",{className:"confirm-title",children:"Delete Task?"}),R.jsxs("p",{className:"confirm-text",children:['Are you sure you want to delete "',r,'"? This action cannot be undone.']}),R.jsxs("div",{className:"confirm-buttons",children:[R.jsx("button",{className:"btn btn-secondary",onClick:t,children:"Cancel"}),R.jsx("button",{className:"btn btn-danger",onClick:n,children:"Delete"})]})]})}),mN=()=>R.jsxs("div",{className:"empty-state",children:[R.jsx("div",{className:"empty-state-icon",children:R.jsx(Ve.Inbox,{})}),R.jsx("h3",{className:"empty-state-title",children:"No tasks yet"}),R.jsx("p",{className:"empty-state-text",children:"Tap the + button to create your first task and start tracking your productivity."})]}),gN=({tasks:s,isLoading:t,canLoadMore:n,filterDate:r,showLoadingSpinner:l,onEdit:u,onDelete:d,onLoadMore:g})=>R.jsxs("div",{className:"content",children:[t?R.jsx(cA,{}):s.length===0?R.jsx(mN,{}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"task-list",children:s.map((p,_)=>R.jsx(ZD,{task:p,index:_,onEdit:u,onDelete:d},p.id))}),n&&!r&&!l&&R.jsx("div",{className:"load-more-container",children:R.jsx("button",{className:"load-more-btn",onClick:g,children:"Load More"})}),!n&&s.length>0&&!r&&!l&&R.jsx("div",{className:"end-of-list",children:"No more tasks"})]}),l&&R.jsx("div",{className:"load-more-spinner",children:R.jsx("div",{className:"spinner"})})]}),pN=({ui:s,handlers:t,allTasks:n})=>R.jsxs(R.Fragment,{children:[R.jsx(UE,{isOpen:s.showAddForm,onClose:s.closeAddForm,onSave:t.handleAddTask,editTask:null,allTasks:n}),R.jsx(UE,{isOpen:!!s.editTaskData,onClose:s.closeEditForm,onSave:t.handleEditTask,editTask:s.editTaskData,allTasks:n}),R.jsx(dN,{isOpen:s.showDeleteDialog,onClose:s.closeDeleteDialog,onConfirm:t.handleDeleteTask,taskDescription:s.deleteTaskData?.description}),s.alert&&R.jsx(uA,{message:s.alert.message,type:s.alert.type,onClose:s.closeAlert})]}),yN=({user:s,onLogout:t})=>{const n=YD(),r=XD(),l=$D(n,r);return gt.useEffect(()=>{n.fetchTasks().then(u=>!u.success&&r.showAlert(u.error,"error"))},[]),R.jsxs("div",{className:"app-container",children:[R.jsx(JD,{user:s,taskCount:n.allTasks.length,filteredCount:n.tasks.length,showFilter:r.showFilter,onToggleFilter:r.toggleFilter,onLogout:t,filterDate:n.filterDate,onFilterChange:n.filterByDate}),R.jsx(gN,{tasks:n.tasks,isLoading:n.isLoading,canLoadMore:n.canLoadMore,filterDate:n.filterDate,showLoadingSpinner:n.showLoadingSpinner,onEdit:r.openEditForm,onDelete:r.openDeleteDialog,onLoadMore:l.handleLoadMore}),R.jsx(KD,{onClick:r.openAddForm}),R.jsx(pN,{ui:r,handlers:l,allTasks:n.allTasks})]})};function _N(){const[s,t]=gt.useState(null),[n,r]=gt.useState(!0),[l,u]=gt.useState(null);gt.useEffect(()=>{const p=RD(_=>{t(_),r(!1)});return()=>p()},[]);const d=p=>{t(p),u({message:"Welcome back!",type:"success"})},g=async()=>{(await wD()).success&&(t(null),u({message:"Logged out successfully",type:"success"}))};return n?R.jsx("div",{className:"loading-screen",children:R.jsx(cA,{})}):R.jsxs(R.Fragment,{children:[s?R.jsx(yN,{user:s,onLogout:g}):R.jsx(FD,{onLoginSuccess:d}),l&&R.jsx(uA,{message:l.message,type:l.type,onClose:()=>u(null)})]})}WS.createRoot(document.getElementById("root")).render(R.jsx(gt.StrictMode,{children:R.jsx(zD,{children:R.jsx(_N,{})})}));
